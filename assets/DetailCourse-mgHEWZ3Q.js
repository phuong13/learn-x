const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YouTube-CSuIYtWc.js","assets/index-D0u0md9i.js","assets/index-BzLrb8_y.css","assets/SoundCloud-bB0BSzKY.js","assets/Vimeo-y0vb6HCH.js","assets/Mux-DRLaqVE_.js","assets/Facebook-CeWWM0Vb.js","assets/Streamable-DhSC_FB3.js","assets/Wistia-B2OBZw3o.js","assets/Twitch-e_A01QLM.js","assets/DailyMotion-D5hu1sSS.js","assets/Mixcloud-Beq21p49.js","assets/Vidyard-BAye-qHG.js","assets/Kaltura-DhPV7Ian.js","assets/FilePlayer-x9UXFvxf.js","assets/Preview-D57TvZsV.js"])))=>i.map(i=>d[i]);
import{e as no,r as w,f as El,j as u,g as dn,P as te,h as Dn,i as Lo,R as Nl,k as zo,l as Uo,m as Fo,n as $l,_ as Pe,o as Rl,p as Dl,q as bi,s as dr,t as Ll,L as Rr,v as Qn,w as vi,u as Zn,x as Fe,y as fn,z as wi,d as zl,A as ro,E as oo,F as ao,H as ae,J as Te,K as C,N as hn,O as ne,Q as Ul,S as Ye,U as he,V as Lt,W as io,X as Fl,Y as ve,Z as Hl,$ as Vl,a0 as Si,a1 as Wl,a2 as qt,a3 as Bl,T as xt,a4 as Xl,a5 as Yl,a6 as ql,C as Pt,a as jt,a7 as We,a8 as Gl,a9 as Kl,aa as Ql,ab as Zl,ac as Jl,c as so,ad as ec,ae as tc,af as nc}from"./index-D0u0md9i.js";import{Q as rc,S as oc}from"./QuizzHeader-DMMKk4ga.js";import{T as ac,D as Ci,d as Pi,A as ic,m as sc,u as lc,a as cc,X as ji,b as Mi}from"./Close-CXlCFnTY.js";import{C as uc}from"./chevron-right-PSVaxeJ8.js";import{P as dc,C as Ai}from"./course.service-BYrzg4oa.js";import{M as fc}from"./MenuItem-B0AEuM3_.js";import{u as hc,g as pc,a as Ti,t as Ln,b as _i}from"./react-spring_web.modern-B8T182cm.js";import{d as mc,a as gc}from"./Quiz-BjpjLXgL.js";import{u as yc,p as Ho,S as xc,a as bc,b as vc,M as wc,T as Sc}from"./useForum-DRxe5XXX.js";import{R as Cc}from"./index-py0PdNds.js";import{R as Pc}from"./ripple-button-DHKjidbA.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=no("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=no("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=no("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function ki(e){const{children:t,defer:n=!1,fallback:r=null}=e,[o,a]=w.useState(!1);return El(()=>{n||a(!0)},[n]),w.useEffect(()=>{n&&a(!0)},[n]),u.jsx(w.Fragment,{children:o?t:r})}const Tc=dn(u.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),_c=dn(u.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),kc=dn(u.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Oc=dn([u.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4z"},"0"),u.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c0-.41-.06-1.08.26-1.65.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"},"1")],"Quiz"),Oi=dn(u.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),Ic={lecture:u.jsx(Pi,{color:"primary"}),quiz:u.jsx(Oc,{sx:{color:"#45DFB1"}}),assignment:u.jsx(ic,{sx:{color:"#EC4899"}}),resource:u.jsx(Ci,{sx:{color:"#F3533A"}})},Ec={lecture:"Bài giảng",quiz:"Quiz",assignment:"Bài tập",resource:"Tài liệu"},Ii=({modules:e,expandedSections:t,toggleSection:n,scrollToModule:r,expandAll:o,collapseAll:a})=>{const[i,s]=w.useState(!1),c=()=>s(!i);return u.jsxs("div",{className:`p-2 transition-all duration-300 ease-in-out ${i?"w-56":"w-12"} relative`,children:[u.jsx(Dn,{onClick:c,className:"absolute top-0 right-2",size:"small",children:u.jsx(kc,{})}),i&&u.jsx("div",{className:" rounded-lg",children:u.jsx(Lo,{component:"nav",dense:!0,children:e.map(l=>u.jsxs(Nl.Fragment,{children:[u.jsxs(zo,{button:!0,onClick:()=>{n(l),r(l.id)},sx:{py:.7,fontWeight:600,bgcolor:"#e0e7ef",borderRadius:"6px",mb:.5},children:[u.jsx(Uo,{sx:{minWidth:32},children:u.jsx(Oi,{fontSize:"small"})}),u.jsx(Fo,{primary:l.title,className:"truncate overflow-hidden whitespace-nowrap",primaryTypographyProps:{fontWeight:600,fontSize:15,className:"truncate",noWrap:!0}}),t.includes(l.id)?u.jsx(Tc,{}):u.jsx(_c,{})]}),u.jsx($l,{in:t.includes(l.id),timeout:"auto",unmountOnExit:!0,children:u.jsx(Lo,{component:"div",disablePadding:!0,children:l.contents&&l.contents.map(d=>u.jsxs(zo,{button:!0,className:"pl-8",sx:{py:.5,bgcolor:"#f6f8fa",borderLeft:"3px solid #cbd5e1",mb:.5,width:"100%",overflow:"hidden"},children:[u.jsx(Uo,{sx:{minWidth:28},children:u.jsx(ac,{title:Ec[d.type]||"",children:Ic[d.type]||u.jsx(Ci,{fontSize:"small"})})}),u.jsx(Fo,{primary:d.title,className:"truncate overflow-hidden whitespace-nowrap",primaryTypographyProps:{fontSize:13,color:"#334155",className:"truncate",noWrap:!0}})]},d.id))})})]},l.id))})})]})};Ii.propTypes={modules:te.array.isRequired,expandedSections:te.array.isRequired,toggleSection:te.func.isRequired,scrollToModule:te.func.isRequired,expandAll:te.func.isRequired,collapseAll:te.func.isRequired};var Nc=function(t,n,r){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=t,n.attrs&&$c(a,n.attrs),n.text&&(a.text=""+n.text);var i="onload"in a?Vo:Rc;i(a,r),a.onload||Vo(a,r),o.appendChild(a)};function $c(e,t){for(var n in t)e.setAttribute(n,t[n])}function Vo(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Rc(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var Dc=function(t){return Lc(t)&&!zc(t)};function Lc(e){return!!e&&typeof e=="object"}function zc(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Hc(e)}var Uc=typeof Symbol=="function"&&Symbol.for,Fc=Uc?Symbol.for("react.element"):60103;function Hc(e){return e.$$typeof===Fc}function Vc(e){return Array.isArray(e)?[]:{}}function Gt(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Ot(Vc(e),e,t):e}function Wc(e,t,n){return e.concat(t).map(function(r){return Gt(r,n)})}function Bc(e,t){if(!t.customMerge)return Ot;var n=t.customMerge(e);return typeof n=="function"?n:Ot}function Xc(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Wo(e){return Object.keys(e).concat(Xc(e))}function Ei(e,t){try{return t in e}catch{return!1}}function Yc(e,t){return Ei(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function qc(e,t,n){var r={};return n.isMergeableObject(e)&&Wo(e).forEach(function(o){r[o]=Gt(e[o],n)}),Wo(t).forEach(function(o){Yc(e,o)||(Ei(e,o)&&n.isMergeableObject(t[o])?r[o]=Bc(o,n)(e[o],t[o],n):r[o]=Gt(t[o],n))}),r}function Ot(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Wc,n.isMergeableObject=n.isMergeableObject||Dc,n.cloneUnlessOtherwiseSpecified=Gt;var r=Array.isArray(t),o=Array.isArray(e),a=r===o;return a?r?n.arrayMerge(e,t,n):qc(e,t,n):Gt(t,n)}Ot.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return Ot(r,o,n)},{})};var Gc=Ot,Ni=Gc,Kc=Object.create,Jn=Object.defineProperty,Qc=Object.getOwnPropertyDescriptor,Zc=Object.getOwnPropertyNames,Jc=Object.getPrototypeOf,eu=Object.prototype.hasOwnProperty,tu=(e,t)=>{for(var n in t)Jn(e,n,{get:t[n],enumerable:!0})},$i=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zc(t))!eu.call(e,o)&&o!==n&&Jn(e,o,{get:()=>t[o],enumerable:!(r=Qc(t,o))||r.enumerable});return e},lo=(e,t,n)=>(n=e!=null?Kc(Jc(e)):{},$i(!e||!e.__esModule?Jn(n,"default",{value:e,enumerable:!0}):n,e)),nu=e=>$i(Jn({},"__esModule",{value:!0}),e),Ri={};tu(Ri,{callPlayer:()=>xu,getConfig:()=>gu,getSDK:()=>mu,isBlobUrl:()=>vu,isMediaStream:()=>bu,lazy:()=>iu,omit:()=>yu,parseEndTime:()=>fu,parseStartTime:()=>du,queryString:()=>pu,randomString:()=>hu,supportsWebKitPresentationMode:()=>wu});var er=nu(Ri),ru=lo(w),ou=lo(Nc),au=lo(Ni);const iu=e=>ru.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),su=/[?&#](?:start|t)=([0-9hms]+)/,lu=/[?&#]end=([0-9hms]+)/,Dr=/(\d+)(h|m|s)/g,cu=/^\d+$/;function Di(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const r=n[1];if(r.match(Dr))return uu(r);if(cu.test(r))return parseInt(r)}}function uu(e){let t=0,n=Dr.exec(e);for(;n!==null;){const[,r,o]=n;o==="h"&&(t+=parseInt(r,10)*60*60),o==="m"&&(t+=parseInt(r,10)*60),o==="s"&&(t+=parseInt(r,10)),n=Dr.exec(e)}return t}function du(e){return Di(e,su)}function fu(e){return Di(e,lu)}function hu(){return Math.random().toString(36).substr(2,5)}function pu(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function fr(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const bt={},mu=function(t,n,r=null,o=()=>!0,a=ou.default){const i=fr(n);return i&&o(i)?Promise.resolve(i):new Promise((s,c)=>{if(bt[t]){bt[t].push({resolve:s,reject:c});return}bt[t]=[{resolve:s,reject:c}];const l=d=>{bt[t].forEach(f=>f.resolve(d))};if(r){const d=window[r];window[r]=function(){d&&d(),l(fr(n))}}a(t,d=>{d?(bt[t].forEach(f=>f.reject(d)),bt[t]=null):r||l(fr(n))})})};function gu(e,t){return(0,au.default)(t.config,e.config)}function yu(e,...t){const n=[].concat(...t),r={},o=Object.keys(e);for(const a of o)n.indexOf(a)===-1&&(r[a]=e[a]);return r}function xu(e,...t){if(!this.player||!this.player[e]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[e](...t)}function bu(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function vu(e){return/^blob:/.test(e)}function wu(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var co=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,Cu=Object.getOwnPropertyNames,Pu=Object.prototype.hasOwnProperty,ju=(e,t)=>{for(var n in t)co(e,n,{get:t[n],enumerable:!0})},Mu=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cu(t))!Pu.call(e,o)&&o!==n&&co(e,o,{get:()=>t[o],enumerable:!(r=Su(t,o))||r.enumerable});return e},Au=e=>Mu(co({},"__esModule",{value:!0}),e),Li={};ju(Li,{AUDIO_EXTENSIONS:()=>uo,DASH_EXTENSIONS:()=>Zi,FLV_EXTENSIONS:()=>Ji,HLS_EXTENSIONS:()=>ho,MATCH_URL_DAILYMOTION:()=>qi,MATCH_URL_FACEBOOK:()=>Hi,MATCH_URL_FACEBOOK_WATCH:()=>Vi,MATCH_URL_KALTURA:()=>Qi,MATCH_URL_MIXCLOUD:()=>Gi,MATCH_URL_MUX:()=>Fi,MATCH_URL_SOUNDCLOUD:()=>zi,MATCH_URL_STREAMABLE:()=>Wi,MATCH_URL_TWITCH_CHANNEL:()=>Yi,MATCH_URL_TWITCH_VIDEO:()=>Xi,MATCH_URL_VIDYARD:()=>Ki,MATCH_URL_VIMEO:()=>Ui,MATCH_URL_WISTIA:()=>Bi,MATCH_URL_YOUTUBE:()=>Lr,VIDEO_EXTENSIONS:()=>fo,canPlay:()=>_u});var Tu=Au(Li),Bo=er;const Lr=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,zi=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Ui=/vimeo\.com\/(?!progressive_redirect).+/,Fi=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,Hi=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Vi=/^https?:\/\/fb\.watch\/.+$/,Wi=/streamable\.com\/([a-z0-9]+)$/,Bi=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,Xi=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,Yi=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,qi=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Gi=/mixcloud\.com\/([^/]+\/[^/]+)/,Ki=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Qi=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,uo=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,fo=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,ho=/\.(m3u8)($|\?)/i,Zi=/\.(mpd)($|\?)/i,Ji=/\.(flv)($|\?)/i,zr=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&zr(t)||zr(t.src))return!0;return!1}return(0,Bo.isMediaStream)(e)||(0,Bo.isBlobUrl)(e)?!0:uo.test(e)||fo.test(e)||ho.test(e)||Zi.test(e)||Ji.test(e)},_u={youtube:e=>e instanceof Array?e.every(t=>Lr.test(t)):Lr.test(e),soundcloud:e=>zi.test(e)&&!uo.test(e),vimeo:e=>Ui.test(e)&&!fo.test(e)&&!ho.test(e),mux:e=>Fi.test(e),facebook:e=>Hi.test(e)||Vi.test(e),streamable:e=>Wi.test(e),wistia:e=>Bi.test(e),twitch:e=>Xi.test(e)||Yi.test(e),dailymotion:e=>qi.test(e),mixcloud:e=>Gi.test(e),vidyard:e=>Ki.test(e),kaltura:e=>Qi.test(e),file:zr};var po=Object.defineProperty,ku=Object.getOwnPropertyDescriptor,Ou=Object.getOwnPropertyNames,Iu=Object.prototype.hasOwnProperty,Eu=(e,t)=>{for(var n in t)po(e,n,{get:t[n],enumerable:!0})},Nu=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ou(t))!Iu.call(e,o)&&o!==n&&po(e,o,{get:()=>t[o],enumerable:!(r=ku(t,o))||r.enumerable});return e},$u=e=>Nu(po({},"__esModule",{value:!0}),e),es={};Eu(es,{default:()=>Du});var Ru=$u(es),Ce=er,xe=Tu,Du=[{key:"youtube",name:"YouTube",canPlay:xe.canPlay.youtube,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./YouTube-CSuIYtWc.js").then(e=>e.Y),__vite__mapDeps([0,1,2])))},{key:"soundcloud",name:"SoundCloud",canPlay:xe.canPlay.soundcloud,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./SoundCloud-bB0BSzKY.js").then(e=>e.S),__vite__mapDeps([3,1,2])))},{key:"vimeo",name:"Vimeo",canPlay:xe.canPlay.vimeo,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Vimeo-y0vb6HCH.js").then(e=>e.V),__vite__mapDeps([4,1,2])))},{key:"mux",name:"Mux",canPlay:xe.canPlay.mux,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Mux-DRLaqVE_.js").then(e=>e.M),__vite__mapDeps([5,1,2])))},{key:"facebook",name:"Facebook",canPlay:xe.canPlay.facebook,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Facebook-CeWWM0Vb.js").then(e=>e.F),__vite__mapDeps([6,1,2])))},{key:"streamable",name:"Streamable",canPlay:xe.canPlay.streamable,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Streamable-DhSC_FB3.js").then(e=>e.S),__vite__mapDeps([7,1,2])))},{key:"wistia",name:"Wistia",canPlay:xe.canPlay.wistia,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Wistia-B2OBZw3o.js").then(e=>e.W),__vite__mapDeps([8,1,2])))},{key:"twitch",name:"Twitch",canPlay:xe.canPlay.twitch,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Twitch-e_A01QLM.js").then(e=>e.T),__vite__mapDeps([9,1,2])))},{key:"dailymotion",name:"DailyMotion",canPlay:xe.canPlay.dailymotion,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./DailyMotion-D5hu1sSS.js").then(e=>e.D),__vite__mapDeps([10,1,2])))},{key:"mixcloud",name:"Mixcloud",canPlay:xe.canPlay.mixcloud,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Mixcloud-Beq21p49.js").then(e=>e.M),__vite__mapDeps([11,1,2])))},{key:"vidyard",name:"Vidyard",canPlay:xe.canPlay.vidyard,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Vidyard-BAye-qHG.js").then(e=>e.V),__vite__mapDeps([12,1,2])))},{key:"kaltura",name:"Kaltura",canPlay:xe.canPlay.kaltura,lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./Kaltura-DhPV7Ian.js").then(e=>e.K),__vite__mapDeps([13,1,2])))},{key:"file",name:"FilePlayer",canPlay:xe.canPlay.file,canEnablePIP:e=>xe.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,Ce.supportsWebKitPresentationMode)())&&!xe.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,Ce.lazy)(()=>Pe(()=>import("./FilePlayer-x9UXFvxf.js").then(e=>e.F),__vite__mapDeps([14,1,2])))}];const Lu=Rl(sc);var zu=Object.create,tr=Object.defineProperty,Uu=Object.getOwnPropertyDescriptor,Fu=Object.getOwnPropertyNames,Hu=Object.getPrototypeOf,Vu=Object.prototype.hasOwnProperty,Wu=(e,t)=>{for(var n in t)tr(e,n,{get:t[n],enumerable:!0})},ts=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fu(t))!Vu.call(e,o)&&o!==n&&tr(e,o,{get:()=>t[o],enumerable:!(r=Uu(t,o))||r.enumerable});return e},Bu=(e,t,n)=>(n=e!=null?zu(Hu(e)):{},ts(!e||!e.__esModule?tr(n,"default",{value:e,enumerable:!0}):n,e)),Xu=e=>ts(tr({},"__esModule",{value:!0}),e),ns={};Wu(ns,{defaultProps:()=>Gu,propTypes:()=>qu});var rs=Xu(ns),Yu=Bu(Dl);const{string:de,bool:be,number:vt,array:hr,oneOfType:Ft,shape:Ae,object:me,func:oe,node:Xo}=Yu.default,qu={url:Ft([de,hr,me]),playing:be,loop:be,controls:be,volume:vt,muted:be,playbackRate:vt,width:Ft([de,vt]),height:Ft([de,vt]),style:me,progressInterval:vt,playsinline:be,pip:be,stopOnUnmount:be,light:Ft([be,de,me]),playIcon:Xo,previewTabIndex:vt,previewAriaLabel:de,fallback:Xo,oEmbedUrl:de,wrapper:Ft([de,oe,Ae({render:oe.isRequired})]),config:Ae({soundcloud:Ae({options:me}),youtube:Ae({playerVars:me,embedOptions:me,onUnstarted:oe}),facebook:Ae({appId:de,version:de,playerId:de,attributes:me}),dailymotion:Ae({params:me}),vimeo:Ae({playerOptions:me,title:de}),mux:Ae({attributes:me,version:de}),file:Ae({attributes:me,tracks:hr,forceVideo:be,forceAudio:be,forceHLS:be,forceSafariHLS:be,forceDisableHls:be,forceDASH:be,forceFLV:be,hlsOptions:me,hlsVersion:de,dashVersion:de,flvVersion:de}),wistia:Ae({options:me,playerId:de,customControls:hr}),mixcloud:Ae({options:me}),twitch:Ae({options:me,playerId:de}),vidyard:Ae({options:me})}),onReady:oe,onStart:oe,onPlay:oe,onPause:oe,onBuffer:oe,onBufferEnd:oe,onEnded:oe,onError:oe,onDuration:oe,onSeek:oe,onPlaybackRateChange:oe,onPlaybackQualityChange:oe,onProgress:oe,onClickPreview:oe,onEnablePIP:oe,onDisablePIP:oe},fe=()=>{},Gu={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:fe},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:fe,onStart:fe,onPlay:fe,onPause:fe,onBuffer:fe,onBufferEnd:fe,onEnded:fe,onError:fe,onDuration:fe,onSeek:fe,onPlaybackRateChange:fe,onPlaybackQualityChange:fe,onProgress:fe,onClickPreview:fe,onEnablePIP:fe,onDisablePIP:fe};var Ku=Object.create,pn=Object.defineProperty,Qu=Object.getOwnPropertyDescriptor,Zu=Object.getOwnPropertyNames,Ju=Object.getPrototypeOf,ed=Object.prototype.hasOwnProperty,td=(e,t,n)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>{for(var n in t)pn(e,n,{get:t[n],enumerable:!0})},os=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zu(t))!ed.call(e,o)&&o!==n&&pn(e,o,{get:()=>t[o],enumerable:!(r=Qu(t,o))||r.enumerable});return e},as=(e,t,n)=>(n=e!=null?Ku(Ju(e)):{},os(!e||!e.__esModule?pn(n,"default",{value:e,enumerable:!0}):n,e)),rd=e=>os(pn({},"__esModule",{value:!0}),e),ee=(e,t,n)=>(td(e,typeof t!="symbol"?t+"":t,n),n),is={};nd(is,{default:()=>nr});var od=rd(is),Yo=as(w),ad=as(bi),ss=rs,id=er;const sd=5e3;class nr extends Yo.Component{constructor(){super(...arguments),ee(this,"mounted",!1),ee(this,"isReady",!1),ee(this,"isPlaying",!1),ee(this,"isLoading",!0),ee(this,"loadOnReady",null),ee(this,"startOnPlay",!0),ee(this,"seekOnPlay",null),ee(this,"onDurationCalled",!1),ee(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),ee(this,"getInternalPlayer",t=>this.player?this.player[t]:null),ee(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const o={playedSeconds:t,played:t/r};n!==null&&(o.loadedSeconds=n,o.loaded=n/r),(o.playedSeconds!==this.prevPlayed||o.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(o),this.prevPlayed=o.playedSeconds,this.prevLoaded=o.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),ee(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:n,volume:r,muted:o}=this.props;t(),!o&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),ee(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),t(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),ee(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),ee(this,"handleEnded",()=>{const{activePlayer:t,loop:n,onEnded:r}=this.props;t.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),ee(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),ee(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),ee(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:n,playing:r,volume:o,muted:a,playbackRate:i,pip:s,loop:c,activePlayer:l,disableDeferredLoading:d}=this.props;if(!(0,ad.default)(t.url,n)){if(this.isLoading&&!l.forceLoad&&!d&&!(0,id.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!t.playing&&r&&!this.isPlaying&&this.player.play(),t.playing&&!r&&this.isPlaying&&this.player.pause(),!t.pip&&s&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!s&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&o!==null&&this.player.setVolume(o),t.muted!==a&&(a?this.player.mute():(this.player.unmute(),o!==null&&setTimeout(()=>this.player.setVolume(o)))),t.playbackRate!==i&&this.player.setPlaybackRate&&this.player.setPlaybackRate(i),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,n,r){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},sd));return}if(n?n==="fraction":t>0&&t<1){const a=this.player.getDuration();if(!a){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(a*t,r);return}this.player.seekTo(t,r)}render(){const t=this.props.activePlayer;return t?Yo.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}ee(nr,"displayName","Player");ee(nr,"propTypes",ss.propTypes);ee(nr,"defaultProps",ss.defaultProps);var ld=Object.create,mn=Object.defineProperty,cd=Object.getOwnPropertyDescriptor,ud=Object.getOwnPropertyNames,dd=Object.getPrototypeOf,fd=Object.prototype.hasOwnProperty,hd=(e,t,n)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pd=(e,t)=>{for(var n in t)mn(e,n,{get:t[n],enumerable:!0})},ls=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ud(t))!fd.call(e,o)&&o!==n&&mn(e,o,{get:()=>t[o],enumerable:!(r=cd(t,o))||r.enumerable});return e},gn=(e,t,n)=>(n=e!=null?ld(dd(e)):{},ls(!e||!e.__esModule?mn(n,"default",{value:e,enumerable:!0}):n,e)),md=e=>ls(mn({},"__esModule",{value:!0}),e),J=(e,t,n)=>(hd(e,typeof t!="symbol"?t+"":t,n),n),cs={};pd(cs,{createReactPlayer:()=>Pd});var gd=md(cs),Mt=gn(w),yd=gn(Ni),pr=gn(Lu),qo=gn(bi),Xt=rs,us=er,xd=gn(od);const bd=(0,us.lazy)(()=>Pe(()=>import("./Preview-D57TvZsV.js").then(e=>e.P),__vite__mapDeps([15,1,2]))),vd=typeof window<"u"&&window.document&&typeof document<"u",wd=typeof dr<"u"&&dr.window&&dr.window.document,Sd=Object.keys(Xt.propTypes),Cd=vd||wd?Mt.Suspense:()=>null,Ht=[],Pd=(e,t)=>{var n;return n=class extends Mt.Component{constructor(){super(...arguments),J(this,"state",{showPreview:!!this.props.light}),J(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),J(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),J(this,"showPreview",()=>{this.setState({showPreview:!0})}),J(this,"getDuration",()=>this.player?this.player.getDuration():null),J(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),J(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),J(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),J(this,"seekTo",(r,o,a)=>{if(!this.player)return null;this.player.seekTo(r,o,a)}),J(this,"handleReady",()=>{this.props.onReady(this)}),J(this,"getActivePlayer",(0,pr.default)(r=>{for(const o of[...Ht,...e])if(o.canPlay(r))return o;return t||null})),J(this,"getConfig",(0,pr.default)((r,o)=>{const{config:a}=this.props;return yd.default.all([Xt.defaultProps.config,Xt.defaultProps.config[o]||{},a,a[o]||{}])})),J(this,"getAttributes",(0,pr.default)(r=>(0,us.omit)(this.props,Sd))),J(this,"renderActivePlayer",r=>{if(!r)return null;const o=this.getActivePlayer(r);if(!o)return null;const a=this.getConfig(r,o.key);return Mt.default.createElement(xd.default,{...this.props,key:o.key,ref:this.references.player,config:a,activePlayer:o.lazyPlayer||o,onReady:this.handleReady})})}shouldComponentUpdate(r,o){return!(0,qo.default)(this.props,r)||!(0,qo.default)(this.state,o)}componentDidUpdate(r){const{light:o}=this.props;!r.light&&o&&this.setState({showPreview:!0}),r.light&&!o&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:o,playIcon:a,previewTabIndex:i,oEmbedUrl:s,previewAriaLabel:c}=this.props;return Mt.default.createElement(bd,{url:r,light:o,playIcon:a,previewTabIndex:i,previewAriaLabel:c,oEmbedUrl:s,onClick:this.handleClickPreview})}render(){const{url:r,style:o,width:a,height:i,fallback:s,wrapper:c}=this.props,{showPreview:l}=this.state,d=this.getAttributes(r),f=typeof c=="string"?this.references.wrapper:void 0;return Mt.default.createElement(c,{ref:f,style:{...o,width:a,height:i},...d},Mt.default.createElement(Cd,{fallback:s},l?this.renderPreview(r):this.renderActivePlayer(r)))}},J(n,"displayName","ReactPlayer"),J(n,"propTypes",Xt.propTypes),J(n,"defaultProps",Xt.defaultProps),J(n,"addCustomPlayer",r=>{Ht.push(r)}),J(n,"removeCustomPlayers",()=>{Ht.length=0}),J(n,"canPlay",r=>{for(const o of[...Ht,...e])if(o.canPlay(r))return!0;return!1}),J(n,"canEnablePIP",r=>{for(const o of[...Ht,...e])if(o.canEnablePIP&&o.canEnablePIP(r))return!0;return!1}),n};var jd=Object.create,rr=Object.defineProperty,Md=Object.getOwnPropertyDescriptor,Ad=Object.getOwnPropertyNames,Td=Object.getPrototypeOf,_d=Object.prototype.hasOwnProperty,kd=(e,t)=>{for(var n in t)rr(e,n,{get:t[n],enumerable:!0})},ds=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ad(t))!_d.call(e,o)&&o!==n&&rr(e,o,{get:()=>t[o],enumerable:!(r=Md(t,o))||r.enumerable});return e},Od=(e,t,n)=>(n=e!=null?jd(Td(e)):{},ds(!e||!e.__esModule?rr(n,"default",{value:e,enumerable:!0}):n,e)),Id=e=>ds(rr({},"__esModule",{value:!0}),e),fs={};kd(fs,{default:()=>Rd});var Ed=Id(fs),Ur=Od(Ru),Nd=gd;const $d=Ur.default[Ur.default.length-1];var Rd=(0,Nd.createReactPlayer)(Ur.default,$d);const Dd=Ll(Ed);function hs({name:e,content:t}){const n=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,r=t==null?void 0:t.match(n),o=r?t.replace(r[0],""):t;return u.jsxs("div",{className:"flex items-start gap-4 py-1 select-text border-t border-slate-300",children:[u.jsx(Pi,{className:"text-blue-500",fontSize:"medium"}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"text-sm text-slate-600 flex flex-col justify-center",children:[u.jsx("div",{className:"flex gap-1",children:u.jsx("span",{className:"text-sm font-bold",children:e})}),u.jsx("div",{className:"mt-1 text-black",children:u.jsx("div",{dangerouslySetInnerHTML:{__html:o}})}),r&&u.jsx("div",{className:"",children:u.jsx(Dd,{url:r[0],controls:!0})})]})})]})}hs.propTypes={name:te.string.isRequired,content:te.string.isRequired};function Ld({type:e,title:t,link:n}){const r={word:"fa-file-word text-blue-500",ppt:"fa-file-powerpoint text-[#CD4F2E]",excel:"fa-file-excel text-[#25764a]",pdf:"fa-file-pdf text-[#d32f2f]"};return u.jsxs("div",{className:"flex items-start gap-4 py-1  border-t border-slate-300",children:[u.jsx("div",{className:"",children:u.jsx("i",{className:`fa-solid ${r[e]} text-2xl`})}),u.jsx("h3",{className:"text-blue-600 text-sm hover:text-blue-700 hover:underline cursor-pointer mb-1 pt-2",children:u.jsx(Rr,{to:n,target:"_blank",rel:"noopener noreferrer",children:t})})]})}const zd=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[o,a]=w.useState(!1),i=w.useRef({}),{courseId:s}=Qn(),c=vi(),{authUser:l}=Zn(),{getModules:d}=lc();w.useEffect(()=>{a(!0),d(s).then(({success:m,modules:y})=>{m&&(r(y),t(y.map(v=>v.id))),a(!1)}).catch(m=>{console.error(m),a(!1)})},[s]);const f=m=>{e.includes(m.id)?t(y=>y.filter(v=>v!==m.id)):t(y=>[...y,m.id])},h=m=>{const y=i.current[m];if(y){const S=document.body.getBoundingClientRect().top,j=y.getBoundingClientRect().top-S+-120;window.scrollTo({top:j,behavior:"smooth"})}},p=()=>t(n.map(m=>m.id)),g=()=>t([]);return u.jsxs("div",{className:"flex",children:[u.jsx(Ii,{modules:n,expandedSections:e,toggleSection:f,scrollToModule:h,expandAll:p,collapseAll:g}),u.jsxs("div",{className:"flex-1 px-4 flex flex-col gap-2",children:[(l==null?void 0:l.role)==="TEACHER"&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>c(`/course-detail/${s}/edit`),className:`py-2 px-3 text-sm  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg hover:bg-secondary transition-colors flex items-center`,children:[u.jsx(cc,{fontSize:"small"}),"Chỉnh sửa"]})}),o?u.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:u.jsx(fn,{})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.map(m=>u.jsxs("div",{ref:y=>i.current[m.id]=y,className:"border-b last:border-b-0",children:[u.jsxs("button",{onClick:()=>f(m),className:"w-full px-4 py-3 bg-blue-50 flex justify-between items-center hover:bg-opacity-80 focus:outline-none",children:[u.jsxs("span",{className:"flex  gap-2 text-base font-bold text-slate-700 items-center",children:[u.jsx(Oi,{})," ",m.title]}),e.includes(m.id)?u.jsx(wi,{className:"h-5 w-5 text-slate-400"}):u.jsx(uc,{className:"h-5 w-5 text-slate-400"})]}),e.includes(m.id)&&u.jsx("div",{className:"px-4 ml-6 pb-2",children:m.contents.map(y=>{var v;switch(y.type){case"lecture":return u.jsx(hs,{name:y.title,content:y.content},y.id);case"resource":{const S=(v=y.urlDocument)==null?void 0:v.split(".").pop(),x=["pdf","ppt","xlsx"].includes(S)?S:"word";return u.jsx(Ld,{type:x,title:y.title,link:y.urlDocument},y.id)}case"assignment":return u.jsx(oc,{courseID:s,id:y.id,title:y.title,startDate:y.startDate,endDate:y.endDate},y.id);case"quiz":return u.jsx(rc,{courseID:s,id:y.id,title:y.title,startDate:y.startDate,endDate:y.endDate},y.id);default:return null}})})]},m.id))})})]})]})},ps=({totalStudents:e,students:t,paginationInfo:n,onPageChange:r,onDeleteStudents:o})=>{const[a,i]=w.useState(t),[s,c]=w.useState(n.pageNumber),[l,d]=w.useState([]),[f,h]=w.useState(!1),[p,g]=w.useState([]),{authUser:m}=Zn(),y=(m==null?void 0:m.role)==="TEACHER";w.useEffect(()=>{i(t),d([])},[t]);const v=b=>{b>=0&&b<n.totalPages&&(c(b),r(b))},S=b=>{d(_=>_.includes(b)?_.filter(T=>T!==b):[..._,b])},x=b=>{g([b]),h(!0)},j=()=>{l.length>0&&(g(l),h(!0))},P=()=>{o(p),i(b=>b.filter(_=>!p.includes(_.email))),d([]),g([]),h(!1)};return u.jsxs("div",{className:"w-full mx-auto bg-white shadow-md rounded-lg h-full",children:[u.jsx("div",{className:" text-xs px-6 py-2 bg-slate-50 border-b border-slate-200 text-slate-700 font-semibold flex items-center sm:text-sm md:text-base",children:u.jsxs("p",{children:["Tổng số: ",e," sinh viên"]})}),u.jsx("ul",{className:"divide-y divide-slate-200",children:a.map(b=>u.jsxs("li",{className:"px-6 py-2 flex items-center",children:[y&&u.jsx("div",{className:"flex items-center mr-4",children:u.jsx("input",{type:"checkbox",checked:l.includes(b.email),onChange:()=>S(b.email),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:b.fullName}),u.jsx("p",{className:"text-sm text-slate-500 truncate",children:b.email})]}),y&&u.jsx("button",{onClick:()=>x(b.email),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:u.jsx(ji,{className:"w-4 h-4"})})]},b.id))}),y&&l.length>0&&u.jsx("div",{className:"px-6 bg-slate-50 border-t border-slate-200 flex items-center justify-between",children:u.jsx("button",{onClick:j,className:`px-2 py-1 my-1 bg-rose-500 text-xs sm:text-sm md:text-base text-white rounded-lg \r
             hover:bg-red-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50\r
             transition duration-200`,children:"Xóa đã chọn"})}),(a.length>=n.pageSize||n.pageNumber>0)&&u.jsx("div",{className:"px-6 py-1 bg-slate-50 border-t border-slate-200 flex items-center justify-center",children:u.jsx(dc,{count:n.totalPages,page:s+1,onChange:(b,_)=>v(_-1),color:"primaryDark"})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-md shadow-xl",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Xác nhận xóa"}),u.jsxs("p",{className:"mb-4",children:["Bạn có chắc chắn muốn xóa"," ",p.length>1?"những học sinh này":"học sinh này","?",u.jsx("br",{}),"(Không thể hoàn tác)"]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{className:"py-2 px-4 bg-primaryDark text-white rounded-lg hover:bg-secondary transition-colors",onClick:()=>h(!1),children:"Không"}),u.jsx("button",{className:"py-2 px-4 bg-primaryDark text-white rounded-lg hover:bg-secondary transition-colors",onClick:P,children:"Có"})]})]})})]})};ps.propTypes={totalStudents:te.number.isRequired,students:te.arrayOf(te.shape({id:te.any.isRequired,fullName:te.string.isRequired,email:te.string.isRequired,role:te.string.isRequired})).isRequired,paginationInfo:te.shape({pageNumber:te.number.isRequired,totalPages:te.number.isRequired}).isRequired,onPageChange:te.func.isRequired,onDeleteStudents:te.func.isRequired};const Ud={createDocument:function(t){return new DOMParser().parseFromString(t.trim(),"text/xml")}};var _e=Uint8Array,it=Uint16Array,ms=Uint32Array,gs=new _e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ys=new _e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fd=new _e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xs=function(e,t){for(var n=new it(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new ms(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return[n,o]},bs=xs(gs,2),vs=bs[0],Hd=bs[1];vs[28]=258,Hd[258]=28;var Vd=xs(ys,0),Wd=Vd[0],Fr=new it(32768);for(var Y=0;Y<32768;++Y){var Je=(Y&43690)>>>1|(Y&21845)<<1;Je=(Je&52428)>>>2|(Je&13107)<<2,Je=(Je&61680)>>>4|(Je&3855)<<4,Fr[Y]=((Je&65280)>>>8|(Je&255)<<8)>>>1}var Yt=function(e,t,n){for(var r=e.length,o=0,a=new it(t);o<r;++o)e[o]&&++a[e[o]-1];var i=new it(t);for(o=0;o<t;++o)i[o]=i[o-1]+a[o-1]<<1;var s;if(n){s=new it(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var l=o<<4|e[o],d=t-e[o],f=i[e[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)s[Fr[f]>>>c]=l}else for(s=new it(r),o=0;o<r;++o)e[o]&&(s[o]=Fr[i[e[o]-1]++]>>>15-e[o]);return s},yn=new _e(288);for(var Y=0;Y<144;++Y)yn[Y]=8;for(var Y=144;Y<256;++Y)yn[Y]=9;for(var Y=256;Y<280;++Y)yn[Y]=7;for(var Y=280;Y<288;++Y)yn[Y]=8;var ws=new _e(32);for(var Y=0;Y<32;++Y)ws[Y]=5;var Bd=Yt(yn,9,1),Xd=Yt(ws,5,1),mr=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ne=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},gr=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Yd=function(e){return(e+7)/8|0},mo=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?it:e.BYTES_PER_ELEMENT==4?ms:_e)(n-t);return r.set(e.subarray(t,n)),r},qd=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$e=function(e,t,n){var r=new Error(t||qd[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,$e),!n)throw r;return r},Gd=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new _e(0);var o=!t||n,a=!n||n.i;n||(n={}),t||(t=new _e(r*3));var i=function(we){var ye=t.length;if(we>ye){var Se=new _e(Math.max(ye*2,we));Se.set(t),t=Se}},s=n.f||0,c=n.p||0,l=n.b||0,d=n.l,f=n.d,h=n.m,p=n.n,g=r*8;do{if(!d){s=Ne(e,c,1);var m=Ne(e,c+1,3);if(c+=3,m)if(m==1)d=Bd,f=Xd,h=9,p=5;else if(m==2){var x=Ne(e,c,31)+257,j=Ne(e,c+10,15)+4,P=x+Ne(e,c+5,31)+1;c+=14;for(var b=new _e(P),_=new _e(19),T=0;T<j;++T)_[Fd[T]]=Ne(e,c+T*3,7);c+=j*3;for(var N=mr(_),O=(1<<N)-1,M=Yt(_,N,1),T=0;T<P;){var E=M[Ne(e,c,O)];c+=E&15;var y=E>>>4;if(y<16)b[T++]=y;else{var A=0,I=0;for(y==16?(I=3+Ne(e,c,3),c+=2,A=b[T-1]):y==17?(I=3+Ne(e,c,7),c+=3):y==18&&(I=11+Ne(e,c,127),c+=7);I--;)b[T++]=A}}var D=b.subarray(0,x),R=b.subarray(x);h=mr(D),p=mr(R),d=Yt(D,h,1),f=Yt(R,p,1)}else $e(1);else{var y=Yd(c)+4,v=e[y-4]|e[y-3]<<8,S=y+v;if(S>r){a&&$e(0);break}o&&i(l+v),t.set(e.subarray(y,S),l),n.b=l+=v,n.p=c=S*8,n.f=s;continue}if(c>g){a&&$e(0);break}}o&&i(l+131072);for(var H=(1<<h)-1,W=(1<<p)-1,F=c;;F=c){var A=d[gr(e,c)&H],V=A>>>4;if(c+=A&15,c>g){a&&$e(0);break}if(A||$e(2),V<256)t[l++]=V;else if(V==256){F=c,d=null;break}else{var le=V-254;if(V>264){var T=V-257,q=gs[T];le=Ne(e,c,(1<<q)-1)+vs[T],c+=q}var pe=f[gr(e,c)&W],ue=pe>>>4;pe||$e(3),c+=pe&15;var R=Wd[ue];if(ue>3){var q=ys[ue];R+=gr(e,c)&(1<<q)-1,c+=q}if(c>g){a&&$e(0);break}o&&i(l+131072);for(var Q=l+le;l<Q;l+=4)t[l]=t[l-R],t[l+1]=t[l+1-R],t[l+2]=t[l+2-R],t[l+3]=t[l+3-R];l=Q}}n.l=d,n.p=F,n.b=l,n.f=s,d&&(s=1,n.m=h,n.d=f,n.n=p)}while(!s);return l==t.length?t:mo(t,0,l)},Kd=new _e(0),Ue=function(e,t){return e[t]|e[t+1]<<8},Re=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},yr=function(e,t){return Re(e,t)+Re(e,t+4)*4294967296};function Qd(e,t){return Gd(e,t)}var Hr=typeof TextDecoder<"u"&&new TextDecoder,Zd=0;try{Hr.decode(Kd,{stream:!0}),Zd=1}catch{}var Jd=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,mo(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}};function Ss(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Hr)return Hr.decode(e);var o=Jd(e),a=o[0],i=o[1];return i.length&&$e(8),a}}var ef=function(e,t){return t+30+Ue(e,t+26)+Ue(e,t+28)},tf=function(e,t,n){var r=Ue(e,t+28),o=Ss(e.subarray(t+46,t+46+r),!(Ue(e,t+8)&2048)),a=t+46+r,i=Re(e,t+20),s=n&&i==4294967295?nf(e,a):[i,Re(e,t+24),Re(e,t+42)],c=s[0],l=s[1],d=s[2];return[Ue(e,t+10),c,l,o,a+Ue(e,t+30)+Ue(e,t+32),d]},nf=function(e,t){for(;Ue(e,t)!=1;t+=4+Ue(e,t+2));return[yr(e,t+12),yr(e,t+4),yr(e,t+20)]};function rf(e,t){for(var n={},r=e.length-22;Re(e,r)!=101010256;--r)(!r||e.length-r>65558)&&$e(13);var o=Ue(e,r+8);if(!o)return{};var a=Re(e,r+16),i=a==4294967295||o==65535;if(i){var s=Re(e,r-12);i=Re(e,s)==101075792,i&&(o=Re(e,s+32),a=Re(e,s+48))}for(var c=0;c<o;++c){var l=tf(e,a,i),d=l[0],f=l[1],h=l[2],p=l[3],g=l[4],m=l[5],y=ef(e,m);a=g,d?d==8?n[p]=Qd(e.subarray(y,y+f),new _e(h)):$e(14,"unknown compression type "+d):n[p]=mo(e,y,y+f)}return n}function of(e){return e instanceof File||e instanceof Blob?e.arrayBuffer().then(xr):xr(e)}function xr(e){var t=new Uint8Array(e),n=rf(t);return Promise.resolve(af(n))}function af(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t[o]=Ss(e[o])}return t}function Ve(e,t){for(var n=0;n<e.childNodes.length;){var r=e.childNodes[n];if(r.nodeType===1&&dt(r)===t)return r;n++}}function xn(e,t){for(var n=[],r=0;r<e.childNodes.length;){var o=e.childNodes[r];o.nodeType===1&&dt(o)===t&&n.push(o),r++}return n}function zn(e,t,n){for(var r=0;r<e.childNodes.length;){var o=e.childNodes[r];t?o.nodeType===1&&dt(o)===t&&n(o,r):n(o,r),r++}}function sf(e,t,n){var r=[];return zn(e,t,function(o,a){r.push(n(o,a))}),r}var lf=/.+\:/;function dt(e){return e.tagName.replace(lf,"")}function Cs(e){if(e.nodeType!==1)return e.textContent;for(var t="<"+dt(e),n=0;n<e.attributes.length;)t+=" "+e.attributes[n].name+'="'+e.attributes[n].value+'"',n++;t+=">";for(var r=0;r<e.childNodes.length;)t+=Cs(e.childNodes[r]),r++;return t+="</"+dt(e)+">",t}function cf(e){var t=e.documentElement,n=Ve(t,"sheetData"),r=[];return zn(n,"row",function(o){zn(o,"c",function(a){r.push(a)})}),r}function uf(e,t){return Ve(t,"v")}function df(e,t){if(t.firstChild&&dt(t.firstChild)==="is"&&t.firstChild.firstChild&&dt(t.firstChild.firstChild)==="t")return t.firstChild.firstChild.textContent}function ff(e){var t=e.documentElement,n=Ve(t,"dimension");if(n)return n.getAttribute("ref")}function hf(e){var t=e.documentElement,n=Ve(t,"cellStyleXfs");return n?xn(n,"xf"):[]}function pf(e){var t=e.documentElement,n=Ve(t,"cellXfs");return n?xn(n,"xf"):[]}function mf(e){var t=e.documentElement,n=Ve(t,"numFmts");return n?xn(n,"numFmt"):[]}function gf(e){var t=e.documentElement;return sf(t,"si",function(n){var r=Ve(n,"t");if(r)return r.textContent;var o="";return zn(n,"r",function(a){o+=Ve(a,"t").textContent}),o})}function yf(e){var t=e.documentElement;return Ve(t,"workbookPr")}function xf(e){var t=e.documentElement;return xn(t,"Relationship")}function bf(e){var t=e.documentElement,n=Ve(t,"sheets");return xn(n,"sheet")}function vf(e,t){var n=t.createDocument(e),r={},o=yf(n);o&&o.getAttribute("date1904")==="1"&&(r.epoch1904=!0),r.sheets=[];var a=function(s){s.getAttribute("name")&&r.sheets.push({id:s.getAttribute("sheetId"),name:s.getAttribute("name"),relationId:s.getAttribute("r:id")})};return bf(n).forEach(a),r}function wf(e,t){var n=t.createDocument(e),r={sheets:{},sharedStrings:void 0,styles:void 0},o=function(i){var s=i.getAttribute("Target"),c=i.getAttribute("Type");switch(c){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":r.styles=br(s);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":r.sharedStrings=br(s);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":r.sheets[i.getAttribute("Id")]=br(s);break}};return xf(n).forEach(o),r}function br(e){return e[0]==="/"?e.slice(1):"xl/"+e}function Kt(e){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Go(Object(n),!0).forEach(function(r){Sf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sf(e,t,n){return t=Cf(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cf(e){var t=Pf(e,"string");return Kt(t)==="symbol"?t:String(t)}function Pf(e,t){if(Kt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(e,t){if(!e)return{};var n=t.createDocument(e),r=hf(n).map(vr),o=mf(n).map(Mf).reduce(function(i,s){return i[s.id]=s,i},[]),a=function(s){return s.hasAttribute("xfId")?Ko(Ko({},r[s.xfId]),vr(s,o)):vr(s,o)};return pf(n).map(a)}function Mf(e){return{id:e.getAttribute("numFmtId"),template:e.getAttribute("formatCode")}}function vr(e,t){var n={};if(e.hasAttribute("numFmtId")){var r=e.getAttribute("numFmtId");t[r]?n.numberFormat=t[r]:n.numberFormat={id:r}}return n}function Af(e,t){return e?gf(t.createDocument(e)):[]}function Ps(e,t){t&&t.epoch1904&&(e+=1462);var n=70*365+19,r=60*60*1e3;return new Date(Math.round((e-n)*24*r))}function Tf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_f(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _f(e,t){if(e){if(typeof e=="string")return Qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qo(e,t)}}function Qo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kf(e,t,n){if(e){var r=t[e];if(!r)throw new Error("Cell style not found: ".concat(e));if(!r.numberFormat)return!1;if(Of.indexOf(Number(r.numberFormat.id))>=0||n.dateFormat&&r.numberFormat.template===n.dateFormat||n.smartDateParser!==!1&&r.numberFormat.template&&Nf(r.numberFormat.template))return!0}}var Of=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],If=/^\[\$-414\]/,Ef=/;@$/;function Nf(e){e=e.toLowerCase(),e=e.replace(If,""),e=e.replace(Ef,"");for(var t=e.split(/\W+/),n=Tf(t),r;!(r=n()).done;){var o=r.value;if($f.indexOf(o)<0)return!1}return!0}var $f=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function Rf(e,t,n){var r=n.getInlineStringValue,o=n.getInlineStringXml,a=n.getStyleId,i=n.styles,s=n.values,c=n.properties,l=n.options;switch(t||(t="n"),t){case"str":e=wr(e,l);break;case"inlineStr":if(e=r(),e===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(o()));e=wr(e,l);break;case"s":var d=Number(e);if(isNaN(d))throw new Error('Invalid "shared" string index: '.concat(e));if(d>=s.length)throw new Error('An out-of-bounds "shared" string index: '.concat(e));e=s[d],e=wr(e,l);break;case"b":if(e==="1")e=!0;else if(e==="0")e=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(e));break;case"z":e=void 0;break;case"e":e=Df(e);break;case"d":if(e===void 0)break;var f=new Date(e);if(isNaN(f.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(e));e=f;break;case"n":if(e===void 0)break;var h=kf(a(),i,l);h?(e=Zo(e),e=Ps(e,c)):e=(l.parseNumber||Zo)(e);break;default:throw new TypeError("Cell type not supported: ".concat(t))}return e===void 0&&(e=null),e}function Df(e){switch(e){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(e)}}function wr(e,t){return t.trim!==!1&&(e=e.trim()),e===""&&(e=void 0),e}function Zo(e){var t=Number(e);if(isNaN(t))throw new Error('Invalid "numeric" cell value: '.concat(e));return t}var Lf=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function zf(e){var t=function(l,d){return l-d},n=e.map(function(c){return c.row}).sort(t),r=e.map(function(c){return c.column}).sort(t),o=n[0],a=n[n.length-1],i=r[0],s=r[r.length-1];return[{row:o,column:i},{row:a,column:s}]}function Uf(e){for(var t=0,n=0;n<e.length;)t*=26,t+=Lf.indexOf(e[n]),n++;return t}function js(e){return e=e.split(/(\d+)/),[parseInt(e[1]),Uf(e[0].trim())]}function Ff(e,t,n,r,o,a,i){var s=js(e.getAttribute("r")),c=uf(t,e),l=c&&c.textContent,d;return e.hasAttribute("t")&&(d=e.getAttribute("t")),{row:s[0],column:s[1],value:Rf(l,d,{getInlineStringValue:function(){return df(t,e)},getInlineStringXml:function(){return Cs(e)},getStyleId:function(){return e.getAttribute("s")},styles:o,values:r,properties:a,options:i})}}function Hf(e,t,n,r,o,a){var i=cf(e);return i.length===0?[]:i.map(function(s){return Ff(s,e,t,n,r,o,a)})}function Vf(e,t){return Yf(e)||Xf(e,t)||Bf(e,t)||Wf()}function Wf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bf(e,t){if(e){if(typeof e=="string")return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(e,t)}}function Jo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xf(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function Yf(e){if(Array.isArray(e))return e}function qf(e){var t=ff(e);if(t)return t=t.split(":").map(js).map(function(n){var r=Vf(n,2),o=r[0],a=r[1];return{row:o,column:a}}),t.length===1&&(t=[t[0],t[0]]),t}function Gf(e,t,n,r,o,a){var i=t.createDocument(e),s=Hf(i,t,n,r,o,a),c=qf(i)||zf(s);return{cells:s,dimensions:c}}function Kf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Qf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qf(e,t){if(e){if(typeof e=="string")return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ea(e,t)}}function ea(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.rowIndexMap,r=t.accessor,o=r===void 0?function(f){return f}:r,a=t.onlyTrimAtTheEnd,i=e.length-1;i>=0;){for(var s=!0,c=Kf(e[i]),l;!(l=c()).done;){var d=l.value;if(o(d)!==null){s=!1;break}}if(s)e.splice(i,1),n&&n.splice(i,1);else if(a)break;i--}return e}function Jf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=eh(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eh(e,t){if(e){if(typeof e=="string")return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}}function ta(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function th(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.accessor,r=n===void 0?function(f){return f}:n,o=t.onlyTrimAtTheEnd,a=e[0].length-1;a>=0;){for(var i=!0,s=Jf(e),c;!(c=s()).done;){var l=c.value;if(r(l[a])!==null){i=!1;break}}if(i)for(var d=0;d<e.length;)e[d].splice(a,1),d++;else if(o)break;a--}return e}function nh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ms(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rh(e,t){return ih(e)||ah(e,t)||Ms(e,t)||oh()}function oh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ms(e,t){if(e){if(typeof e=="string")return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}}function na(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ah(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function ih(e){if(Array.isArray(e))return e}function sh(e,t){var n=e.dimensions,r=e.cells;if(r.length===0)return[];var o=rh(n,2);o[0];for(var a=o[1],i=a.column,s=a.row,c=new Array(s),l=0;l<s;){c[l]=new Array(i);for(var d=0;d<i;)c[l][d]=null,d++;l++}for(var f=nh(r),h;!(h=f()).done;){var p=h.value,g=p.row-1,m=p.column-1;m<i&&g<s&&(c[g][m]=p.value)}var y=t.rowMap;if(y)for(var v=0;v<c.length;)y[v]=v,v++;return c=Zf(th(c,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowIndexMap:y}),t.transformData&&(c=t.transformData(c)),c}function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}function lh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ch(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ch(e,t){if(e){if(typeof e=="string")return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(e,t)}}function ra(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oa(Object(n),!0).forEach(function(r){uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uh(e,t,n){return t=dh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dh(e){var t=fh(e,"string");return Qt(t)==="symbol"?t:String(t)}function fh(e,t){if(Qt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=aa({sheet:1},n));var r=function(h){if(!e[h])throw new Error('"'.concat(h,'" file not found inside the *.xlsx file zip archive'));return e[h]},o=wf(r("xl/_rels/workbook.xml.rels"),t),a=o.sharedStrings?Af(r(o.sharedStrings),t):[],i=o.styles?jf(r(o.styles),t):{},s=vf(r("xl/workbook.xml"),t);if(n.getSheets)return s.sheets.map(function(f){var h=f.name;return{name:h}});var c=ph(n.sheet,s.sheets);if(!c||!o.sheets[c])throw mh(n.sheet,s.sheets);var l=Gf(r(o.sheets[c]),t,a,i,s,n);n=aa({rowMap:[]},n);var d=sh(l,n);return n.properties?{data:d,properties:s}:d}function ph(e,t){if(typeof e=="number"){var n=t[e-1];return n&&n.relationId}for(var r=lh(t),o;!(o=r()).done;){var a=o.value;if(a.name===e)return a.relationId}}function mh(e,t){var n=t&&t.map(function(r,o){return'"'.concat(r.name,'" (#').concat(o+1,")")}).join(", ");return new Error("Sheet ".concat(typeof e=="number"?"#"+e:'"'+e+'"'," not found in the *.xlsx file.").concat(t?" Available sheets: "+n+".":""))}function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function gh(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function yh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}function bh(e){var t=As();return function(){var r=Jt(e),o;if(t){var a=Jt(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return vh(this,o)}}function vh(e,t){if(t&&(Vr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wh(e)}function wh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){var t=typeof Map=="function"?new Map:void 0;return Wr=function(r){if(r===null||!Sh(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return En(r,arguments,Jt(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Zt(o,r)},Wr(e)}function En(e,t,n){return As()?En=Reflect.construct.bind():En=function(o,a,i){var s=[null];s.push.apply(s,a);var c=Function.bind.apply(o,s),l=new c;return i&&Zt(l,i.prototype),l},En.apply(null,arguments)}function As(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sh(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Zt(e,t)}function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jt(e)}var ke=function(e){xh(n,e);var t=bh(n);function n(r){var o;return yh(this,n),o=t.call(this,"invalid"),o.reason=r,o}return gh(n)}(Wr(Error));function Ch(e){if(typeof e=="string"){var t=e;if(e=Number(e),String(e)!==t)throw new ke("not_a_number")}if(typeof e!="number")throw new ke("not_a_number");if(isNaN(e))throw new ke("invalid_number");if(!isFinite(e))throw new ke("out_of_bounds");return e}function Ph(e){if(typeof e=="string")return e;if(typeof e=="number"){if(isNaN(e))throw new ke("invalid_number");if(!isFinite(e))throw new ke("out_of_bounds");return String(e)}throw new ke("not_a_string")}function jh(e){if(typeof e=="boolean")return e;throw new ke("not_a_boolean")}function Mh(e,t){var n=t.properties;if(e instanceof Date){if(isNaN(e.valueOf()))throw new ke("out_of_bounds");return e}if(typeof e=="number"){if(isNaN(e))throw new ke("invalid_number");if(!isFinite(e))throw new ke("out_of_bounds");var r=Ps(e,n);if(isNaN(r.valueOf()))throw new ke("out_of_bounds");return r}throw new ke("not_a_date")}function Ah(e,t){return kh(e)||_h(e,t)||Ts(e,t)||Th()}function Th(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _h(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function kh(e){if(Array.isArray(e))return e}function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function Oh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ts(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ts(e,t){if(e){if(typeof e=="string")return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ia(e,t)}}function ia(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(n),!0).forEach(function(r){Ih(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ih(e,t,n){return t=Eh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e){var t=Nh(e,"string");return It(t)==="symbol"?t:String(t)}function Nh(e,t){if(It(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(It(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ua={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:null,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(){return!1},getEmptyObjectValue:function(){return null},getEmptyArrayValue:function(){return null},isColumnOriented:!1,arrayValueSeparator:","};function $h(e,t,n){n?n=la(la({},ua),n):n=ua;var r=n,o=r.isColumnOriented,a=r.rowIndexMap;zh(t),o&&(e=Lh(e));for(var i=e[0],s=[],c=[],l=1;l<e.length;l++){var d=_s(t,e[l],l,void 0,i,c,n);s.push(d)}if(a)for(var f=Oh(c),h;!(h=f()).done;){var p=h.value;p.row=a[p.row-1]+1}return{rows:s,errors:c}}function _s(e,t,n,r,o,a,i){for(var s={},c=!0,l=function(T){var N=T.column,O=T.value,M=T.error,E=T.reason,A={error:M,row:n+1,column:N,value:O};return E&&(A.reason=E),e[N].type&&(A.type=e[N].type),A},d=[],f=function(){var T=p[h],N=e[T],O=It(N.type)==="object"&&!Array.isArray(N.type),M="".concat(r||"",".").concat(N.prop),E,A=o.indexOf(T),I=A<0;I||(E=t[A]);var D,R,H;if(O)D=_s(N.type,t,n,M,o,a,i);else if(I)D=i.schemaPropertyValueForMissingColumn;else if(E===void 0)D=i.schemaPropertyValueForUndefinedCellValue;else if(E===null)D=i.schemaPropertyValueForNullCellValue;else if(Array.isArray(N.type)){var W=Dh(E,i.arrayValueSeparator).map(function(le){if(!R){var q=da(le,N,i);return q.error&&(D=le,R=q.error,H=q.reason),q.value}});if(!R){var F=W.every(Sr);D=F?i.getEmptyArrayValue(W,{path:M}):W}}else{var V=da(E,N,i);R=V.error,H=V.reason,D=R?E:V.value}!R&&Sr(D)&&N.required&&d.push({column:T,value:D,isMissingColumn:I}),R?a.push(l({column:T,value:D,error:R,reason:H})):(c&&!Sr(D)&&(c=!1),D!==void 0&&(s[N.prop]=D))},h=0,p=Object.keys(e);h<p.length;h++)f();if(c)return i.getEmptyObjectValue(s,{path:r});for(var g=0,m=d;g<m.length;g++){var y=m[g],v=y.column,S=y.value,x=y.isMissingColumn,j=x&&i.schemaPropertyShouldSkipRequiredValidationForMissingColumn(v,{object:s});if(!j){var P=e[v].required,b=typeof P=="boolean"?P:P(s);b&&a.push(l({column:v,value:S,error:"required"}))}}return s}function da(e,t,n){if(e===null)return{value:null};var r;if(t.parse?r=At(e,t.parse):t.type?r=Rh(e,Array.isArray(t.type)?t.type[0]:t.type,n):r={value:e},r.error)return r;if(r.value!==null){if(t.oneOf&&t.oneOf.indexOf(r.value)<0)return{error:"invalid",reason:"unknown"};if(t.validate)try{t.validate(r.value)}catch(o){return{error:o.message}}}return r}function At(e,t){try{var n=t(e);return n===void 0?{value:null}:{value:n}}catch(o){var r={error:o.message};return o.reason&&(r.reason=o.reason),r}}function Rh(e,t,n){switch(t){case String:return At(e,Ph);case Number:return At(e,Ch);case Date:return At(e,function(r){return Mh(r,{properties:n.properties})});case Boolean:return At(e,jh);default:if(typeof t=="function")return At(e,t);throw new Error("Unsupported schema type: ".concat(t&&t.name||t))}}function ks(e,t,n){for(var r=0,o="";n+r<e.length;){var a=e[n+r];if(a===t)return[o,r];if(a==='"'){var i=ks(e,'"',n+r+1);o+=i[0],r+=1+i[1]+1}else o+=a,r++}return[o,r]}function Dh(e,t){for(var n=[],r=0;r<e.length;){var o=ks(e,t,r),a=Ah(o,2),i=a[0],s=a[1];r+=s+t.length,n.push(i.trim())}return n}var Lh=function(t){return t[0].map(function(n,r){return t.map(function(o){return o[r]})})};function zh(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],o=e[r];if(!o.prop)throw new Error('"prop" not defined for schema entry "'.concat(r,'".'))}}function Sr(e){return e==null}function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fa(Object(n),!0).forEach(function(r){Uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uh(e,t,n){return t=Fh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e){var t=Hh(e,"string");return en(t)==="symbol"?t:String(t)}function Hh(e,t){if(en(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(en(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.includeNullValues,o=n.ignoreEmptyRows,a=n.isColumnOriented,i=n.rowMap,s={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:void 0,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(d,f){return f.path,!1},getEmptyObjectValue:function(d,f){var h=f.path;return h?void 0:null},getEmptyArrayValue:function(){return null},arrayValueSeparator:","};r&&(s.schemaPropertyValueForMissingColumn=null,s.schemaPropertyValueForUndefinedCellValue=null,s.schemaPropertyValueForNullCellValue=null,s.getEmptyObjectValue=function(l,d){return d.path,null});var c=$h(e,t,ha(ha({},s),{},{rowIndexMap:i,isColumnOriented:a}));return o!==!1&&(c.rows=c.rows.filter(function(l){return l!==s.getEmptyObjectValue(l,{path:void 0})})),c}function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}var Wh=["schemaPropertyValueForEmptyCell"];function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(n),!0).forEach(function(r){Bh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bh(e,t,n){return t=Xh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xh(e){var t=Yh(e,"string");return tn(t)==="symbol"?t:String(t)}function Yh(e,t){if(tn(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qh(e,t){if(e==null)return{};var n=Gh(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gh(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Kh(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.schemaPropertyValueForEmptyCell,a=qh(r,Wh);return e(t,n,ma(ma({},a),{},{schemaPropertyValueForNullCellValue:o}))}function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}function Os(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],a=e[o],i=void 0;Br(a)==="object"&&(a=Object.keys(e[o])[0],i=Os(e[o][a])),t[o]={prop:a},i&&(t[o].type=i)}return t}function nn(e){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(e)}var Qh=["schema","map"];function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(n),!0).forEach(function(r){Zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zh(e,t,n){return t=Jh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jh(e){var t=ep(e,"string");return nn(t)==="symbol"?t:String(t)}function ep(e,t){if(nn(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(e,t){if(e==null)return{};var n=np(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function np(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function rp(e,t,n){var r=n.schema,o=n.map,a=tp(n,Qh);!r&&o&&(r=Os(o));var i=hh(e,t,Pn(Pn({},a),{},{properties:r||a.properties}));return r?Kh(Vh,i.data,r,Pn(Pn({},a),{},{properties:i.properties})):i}function op(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return of(e).then(function(n){return rp(n,Ud,t)})}const ap=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[o,a]=w.useState({totalPages:0,totalElements:0,numberOfElements:0,pageNumber:0,pageSize:0}),[i,s]=w.useState([]),{authUser:c}=Zn(),[l,d]=w.useState(!1),f=()=>d(!0),h=()=>d(!1),{courseId:p}=Qn(),g=async P=>{r(!0);try{const b={page:P,size:10},_=await ae.get(`course-registrations/course/${p}?page=${b.page}&size=${b.size}`),T=_.status===200?_.data:null;T.success?(t(T.data.content),a({totalPages:T.data.totalPages,totalElements:T.data.totalElements,numberOfElements:T.data.numberOfElements,pageNumber:T.data.pageable.pageNumber,pageSize:T.data.pageable.pageSize})):console.error("Failed to fetch students:",T.message)}catch(b){console.error("Error fetching students:",b)}finally{r(!1)}};w.useEffect(()=>{g(0)},[]);const m=P=>{g(P)},y=P=>{const b=P.target.files[0],_=[];op(b).then(T=>{const N=T[0],O=N.indexOf("Email"),M=N.indexOf("MSSV");if(O!==-1&&M!==-1)for(let E=1;E<T.length;E++){const A=T[E];A[O]?_.push(A[O].toString().trim()):A[M]&&_.push(`${A[M].toString().trim()}@student.hcmute.edu.vn`)}s(E=>[...E,..._])}).catch(T=>{console.error("Error reading file:",T)})},v=P=>{const b=P.target.value;s(b.split(`
`))},S=P=>{if(!P.length)return Te.error("Danh sách email không được để trống!"),!1;const b=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;for(let _ of P)if(!b.test(_))return Te.error(`Email không hợp lệ: ${_}`),!1;return!0},x=async()=>{r(!0),h();try{const _=document.querySelector("textarea").value.split(`
`).map(O=>O.trim()).filter(O=>O);s(_);const T=[...new Set(_)];if(!S(T)){r(!1);return}s(T);const N=await ae.post(`/course-registrations/register/${p}/list-email`,{emails:T});N.status===200?(Te.success(N.data.message),await g(0)):Te.error(N.data.message,{type:"error"})}catch{Te.error("Có lỗi xảy ra khi gửi!",{type:"error"})}finally{r(!1)}},j=async P=>{r(!0);try{const b=await ae.post(`/course-registrations/remove/${p}/list-email`,{emails:P});b.status===200?(await g(0),Te.success(b.data.message)):Te.error(b.data.message,{type:"error"})}catch{Te.error("Có lỗi xảy ra khi xóa!",{type:"error"})}finally{r(!1)}};return u.jsxs("div",{className:"w-full h-full",children:[u.jsx("div",{className:"flex justify-end items-center mb-2",children:c.role==="TEACHER"&&u.jsxs("button",{className:`py-1.5 px-2  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors flex items-center`,onClick:f,children:[u.jsx(zl,{}),"Thêm sinh viên"]})}),n?u.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:u.jsx(fn,{})}):u.jsx(ps,{totalStudents:o.totalElements,students:e,paginationInfo:o,onPageChange:m,onDeleteStudents:j}),u.jsx(ro,{open:l,onClose:h,maxWidth:"sm",fullWidth:!0,hideBackdrop:!1,sx:{"& .MuiDialog-paper":{borderRadius:"16px"}},BackdropProps:{style:{backdropFilter:"blur(4px)",backgroundColor:"rgba(128, 128, 128, 0.8)"}},children:u.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl",children:[u.jsx(oo,{className:"text-xl font-extrabold mb-4 text-slate-700",children:"Thêm sinh viên"}),u.jsx("button",{onClick:h,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:u.jsx(ji,{className:"h-6 w-6"})}),u.jsx(ao,{children:u.jsxs("div",{className:"mt-2 space-y-4",children:[u.jsx("input",{type:"file",onChange:y,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"w-full p-2 border border-slate-400 rounded"}),u.jsx("textarea",{placeholder:"Thêm email hoặc MSSV của sinh viên (mỗi email hoặc MSSV trên một dòng)",className:"w-full p-2 border border-slate-400 rounded resize-none h-32 focus:outline-none",value:i.join(`
`),onChange:v}),u.jsx("button",{onClick:x,className:`w-full py-2 px-4  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
                                        shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors`,children:"Gửi"})]})})]})})]})},wt="/modules";class Tt{static async getLecturesByModuleId(t){return await ae.get(`${wt}/${t}/lectures`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getResourcesByModuleId(t){return await ae.get(`${wt}/${t}/resources`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getQuizzesByModuleId(t){return await ae.get(`${wt}/${t}/quizzes`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentsByModuleId(t){return await ae.get(`${wt}/${t}/assignments`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAllAssignmentsByModuleId(t){return await ae.get(`${wt}/${t}/assignments`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentById(t){return await ae.get(`${wt}/assignments/${t}`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentSubmissions(t){return await ae.get(`/assignment-submissions/assignment/${t}`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getQuizSubmissions(t){return await ae.get(`/quizzes/${t}/submissions`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}}const Is="DEFAULT_X_AXIS_KEY",ip="DEFAULT_Y_AXIS_KEY",sp={top:50,bottom:50,left:50,right:50};function lp({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=w.useRef(e!==void 0),[a,i]=w.useState(t),s=o?e:a,c=w.useCallback(l=>{o||i(l)},[]);return[s,c]}const Es=w.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),cp=(e,t)=>n=>e?e.fade==="series"?n.seriesId===(t==null?void 0:t.seriesId)&&n.dataIndex!==(t==null?void 0:t.dataIndex):e.fade==="global"?n.seriesId!==(t==null?void 0:t.seriesId)||n.dataIndex!==(t==null?void 0:t.dataIndex):!1:!1,up=(e,t)=>n=>e?e.highlight==="series"?n.seriesId===(t==null?void 0:t.seriesId):e.highlight==="item"?n.dataIndex===(t==null?void 0:t.dataIndex)&&n.seriesId===(t==null?void 0:t.seriesId):!1:!1,dp=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function fp(e,t,n=dp){return e.type==="pie"?C({},e,{data:e.data.map((r,o)=>C({color:n[o%n.length]},r))}):C({color:n[t%n.length]},e)}const hp=({series:e,colors:t,seriesFormatters:n,dataset:r})=>{const o={};e.forEach((i,s)=>{var d;const{id:c=`auto-generated-id-${s}`,type:l}=i;if(o[l]===void 0&&(o[l]={series:{},seriesOrder:[]}),((d=o[l])==null?void 0:d.series[c])!==void 0)throw new Error(`MUI X: series' id "${c}" is not unique.`);o[l].series[c]=C({id:c},fp(i,s,t)),o[l].seriesOrder.push(c)});const a={};return Object.keys(n).forEach(i=>{var c;const s=o[i];s!==void 0&&(a[i]=((c=n[i])==null?void 0:c.call(n,s,r))??o[i])}),a},pp=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],mp=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],gp=e=>e==="dark"?mp:pp,Ns=w.createContext({isInitialized:!1,data:{}}),bn=w.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{},rotationExtremumGetters:{},radiusExtremumGetters:{}}}),ya=(e,t)=>t==="x"?{x:e,y:null}:{x:null,y:e},$s=e=>{var c;const{axis:t,getFilters:n,isDefaultAxis:r}=e,o=n==null?void 0:n({currentAxisId:t.id,isDefaultAxis:r}),a=o?(c=t.data)==null?void 0:c.filter((l,d)=>o({x:null,y:null},d)):t.data,i=Math.min(...a??[]),s=Math.max(...a??[]);return[i,s]},Rs=e=>t=>{const{series:n,axis:r,getFilters:o,isDefaultAxis:a}=t;return Object.keys(n).filter(i=>{const s=n[i].yAxisId??n[i].yAxisKey;return s===r.id||a&&s===void 0}).reduce((i,s)=>{const{stackedData:c}=n[s],l=o==null?void 0:o({currentAxisId:r.id,isDefaultAxis:a,seriesXAxisId:n[s].xAxisId??n[s].xAxisKey,seriesYAxisId:n[s].yAxisId??n[s].yAxisKey}),[d,f]=(c==null?void 0:c.reduce((h,p,g)=>l&&(!l(ya(p[0],e),g)||!l(ya(p[1],e),g))?h:[Math.min(...p,h[0]),Math.max(...p,h[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(d,i[0]),Math.max(f,i[1])]},[1/0,-1/0])},yp=e=>Object.keys(e.series).some(n=>e.series[n].layout==="horizontal")?Rs("x")(e):$s(e),xp=e=>Object.keys(e.series).some(n=>e.series[n].layout==="horizontal")?$s(e):Rs("y")(e);function ie(e){return function(){return e}}const xa=Math.abs,ge=Math.atan2,nt=Math.cos,bp=Math.max,Cr=Math.min,ze=Math.sin,_t=Math.sqrt,je=1e-12,rn=Math.PI,Un=rn/2,Nn=2*rn;function vp(e){return e>1?0:e<-1?rn:Math.acos(e)}function ba(e){return e>=1?Un:e<=-1?-Un:Math.asin(e)}const Xr=Math.PI,Yr=2*Xr,ot=1e-6,wp=Yr-ot;function Ds(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Sp(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ds;const n=10**t;return function(r){this._+=r[0];for(let o=1,a=r.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class Cp{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ds:Sp(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,a,i){this._append`C${+t},${+n},${+r},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,n,r,o,a){if(t=+t,n=+n,r=+r,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,c=r-t,l=o-n,d=i-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ot)if(!(Math.abs(f*c-l*d)>ot)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-i,g=o-s,m=c*c+l*l,y=p*p+g*g,v=Math.sqrt(m),S=Math.sqrt(h),x=a*Math.tan((Xr-Math.acos((m+h-y)/(2*v*S)))/2),j=x/S,P=x/v;Math.abs(j-1)>ot&&this._append`L${t+j*d},${n+j*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=t+P*c},${this._y1=n+P*l}`}}arc(t,n,r,o,a,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),c=r*Math.sin(o),l=t+s,d=n+c,f=1^i,h=i?o-a:a-o;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>ot||Math.abs(this._y1-d)>ot)&&this._append`L${l},${d}`,r&&(h<0&&(h=h%Yr+Yr),h>wp?this._append`A${r},${r},0,1,${f},${t-s},${n-c}A${r},${r},0,1,${f},${this._x1=l},${this._y1=d}`:h>ot&&this._append`A${r},${r},0,${+(h>=Xr)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function Pp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Cp(t)}function jp(e){return e.innerRadius}function Mp(e){return e.outerRadius}function Ap(e){return e.startAngle}function Tp(e){return e.endAngle}function _p(e){return e&&e.padAngle}function kp(e,t,n,r,o,a,i,s){var c=n-e,l=r-t,d=i-o,f=s-a,h=f*c-d*l;if(!(h*h<je))return h=(d*(t-a)-f*(e-o))/h,[e+h*c,t+h*l]}function jn(e,t,n,r,o,a,i){var s=e-n,c=t-r,l=(i?a:-a)/_t(s*s+c*c),d=l*c,f=-l*s,h=e+d,p=t+f,g=n+d,m=r+f,y=(h+g)/2,v=(p+m)/2,S=g-h,x=m-p,j=S*S+x*x,P=o-a,b=h*m-g*p,_=(x<0?-1:1)*_t(bp(0,P*P*j-b*b)),T=(b*x-S*_)/j,N=(-b*S-x*_)/j,O=(b*x+S*_)/j,M=(-b*S+x*_)/j,E=T-y,A=N-v,I=O-y,D=M-v;return E*E+A*A>I*I+D*D&&(T=O,N=M),{cx:T,cy:N,x01:-d,y01:-f,x11:T*(o/P-1),y11:N*(o/P-1)}}function Ls(){var e=jp,t=Mp,n=ie(0),r=null,o=Ap,a=Tp,i=_p,s=null,c=Pp(l);function l(){var d,f,h=+e.apply(this,arguments),p=+t.apply(this,arguments),g=o.apply(this,arguments)-Un,m=a.apply(this,arguments)-Un,y=xa(m-g),v=m>g;if(s||(s=d=c()),p<h&&(f=p,p=h,h=f),!(p>je))s.moveTo(0,0);else if(y>Nn-je)s.moveTo(p*nt(g),p*ze(g)),s.arc(0,0,p,g,m,!v),h>je&&(s.moveTo(h*nt(m),h*ze(m)),s.arc(0,0,h,m,g,v));else{var S=g,x=m,j=g,P=m,b=y,_=y,T=i.apply(this,arguments)/2,N=T>je&&(r?+r.apply(this,arguments):_t(h*h+p*p)),O=Cr(xa(p-h)/2,+n.apply(this,arguments)),M=O,E=O,A,I;if(N>je){var D=ba(N/h*ze(T)),R=ba(N/p*ze(T));(b-=D*2)>je?(D*=v?1:-1,j+=D,P-=D):(b=0,j=P=(g+m)/2),(_-=R*2)>je?(R*=v?1:-1,S+=R,x-=R):(_=0,S=x=(g+m)/2)}var H=p*nt(S),W=p*ze(S),F=h*nt(P),V=h*ze(P);if(O>je){var le=p*nt(x),q=p*ze(x),pe=h*nt(j),ue=h*ze(j),Q;if(y<rn)if(Q=kp(H,W,pe,ue,le,q,F,V)){var we=H-Q[0],ye=W-Q[1],Se=le-Q[0],$=q-Q[1],z=1/ze(vp((we*Se+ye*$)/(_t(we*we+ye*ye)*_t(Se*Se+$*$)))/2),U=_t(Q[0]*Q[0]+Q[1]*Q[1]);M=Cr(O,(h-U)/(z-1)),E=Cr(O,(p-U)/(z+1))}else M=E=0}_>je?E>je?(A=jn(pe,ue,H,W,p,E,v),I=jn(le,q,F,V,p,E,v),s.moveTo(A.cx+A.x01,A.cy+A.y01),E<O?s.arc(A.cx,A.cy,E,ge(A.y01,A.x01),ge(I.y01,I.x01),!v):(s.arc(A.cx,A.cy,E,ge(A.y01,A.x01),ge(A.y11,A.x11),!v),s.arc(0,0,p,ge(A.cy+A.y11,A.cx+A.x11),ge(I.cy+I.y11,I.cx+I.x11),!v),s.arc(I.cx,I.cy,E,ge(I.y11,I.x11),ge(I.y01,I.x01),!v))):(s.moveTo(H,W),s.arc(0,0,p,S,x,!v)):s.moveTo(H,W),!(h>je)||!(b>je)?s.lineTo(F,V):M>je?(A=jn(F,V,le,q,h,-M,v),I=jn(H,W,pe,ue,h,-M,v),s.lineTo(A.cx+A.x01,A.cy+A.y01),M<O?s.arc(A.cx,A.cy,M,ge(A.y01,A.x01),ge(I.y01,I.x01),!v):(s.arc(A.cx,A.cy,M,ge(A.y01,A.x01),ge(A.y11,A.x11),!v),s.arc(0,0,h,ge(A.cy+A.y11,A.cx+A.x11),ge(I.cy+I.y11,I.cx+I.x11),v),s.arc(I.cx,I.cy,M,ge(I.y11,I.x11),ge(I.y01,I.x01),!v))):s.arc(0,0,h,P,j,v)}if(s.closePath(),d)return s=null,d+""||null}return l.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-rn/2;return[nt(f)*d,ze(f)*d]},l.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:ie(+d),l):e},l.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:ie(+d),l):t},l.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:ie(+d),l):n},l.padRadius=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ie(+d),l):r},l.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:ie(+d),l):o},l.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:ie(+d),l):a},l.padAngle=function(d){return arguments.length?(i=typeof d=="function"?d:ie(+d),l):i},l.context=function(d){return arguments.length?(s=d??null,l):s},l}function zs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Op(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Ip(e){return e}function Ep(){var e=Ip,t=Op,n=null,r=ie(0),o=ie(Nn),a=ie(0);function i(s){var c,l=(s=zs(s)).length,d,f,h=0,p=new Array(l),g=new Array(l),m=+r.apply(this,arguments),y=Math.min(Nn,Math.max(-Nn,o.apply(this,arguments)-m)),v,S=Math.min(Math.abs(y)/l,a.apply(this,arguments)),x=S*(y<0?-1:1),j;for(c=0;c<l;++c)(j=g[p[c]=c]=+e(s[c],c,s))>0&&(h+=j);for(t!=null?p.sort(function(P,b){return t(g[P],g[b])}):n!=null&&p.sort(function(P,b){return n(s[P],s[b])}),c=0,f=h?(y-l*x)/h:0;c<l;++c,m=v)d=p[c],j=g[d],v=m+(j>0?j*f:0)+x,g[d]={data:s[d],index:c,value:j,startAngle:m,endAngle:v,padAngle:S};return g}return i.value=function(s){return arguments.length?(e=typeof s=="function"?s:ie(+s),i):e},i.sortValues=function(s){return arguments.length?(t=s,n=null,i):t},i.sort=function(s){return arguments.length?(n=s,t=null,i):n},i.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:ie(+s),i):r},i.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:ie(+s),i):o},i.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:ie(+s),i):a},i}function Et(e,t){if((i=e.length)>1)for(var n=1,r,o,a=e[t[0]],i,s=a.length;n<i;++n)for(o=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Nt(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Np(e,t){return e[t]}function $p(e){const t=[];return t.key=e,t}function Us(){var e=ie([]),t=Nt,n=Et,r=Np;function o(a){var i=Array.from(e.apply(this,arguments),$p),s,c=i.length,l=-1,d;for(const f of a)for(s=0,++l;s<c;++s)(i[s][l]=[0,+r(f,i[s].key,l,a)]).data=f;for(s=0,d=zs(t(i));s<c;++s)i[d[s]].index=s;return n(i,d),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ie(Array.from(a)),o):e},o.value=function(a){return arguments.length?(r=typeof a=="function"?a:ie(+a),o):r},o.order=function(a){return arguments.length?(t=a==null?Nt:typeof a=="function"?a:ie(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(n=a??Et,o):n},o}function Rp(e,t){if((r=e.length)>0){for(var n,r,o=0,a=e[0].length,i;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Et(e,t)}}function Dp(e,t){if((c=e.length)>0)for(var n,r=0,o,a,i,s,c,l=e[t[0]].length;r<l;++r)for(i=s=0,n=0;n<c;++n)(a=(o=e[t[n]][r])[1]-o[0])>0?(o[0]=i,o[1]=i+=a):a<0?(o[1]=s,o[0]=s+=a):(o[0]=0,o[1]=a)}function Lp(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,a=r.length;n<a;++n){for(var i=0,s=0;i<o;++i)s+=e[i][n][1]||0;r[n][1]+=r[n][0]=-s/2}Et(e,t)}}function zp(e,t){if(!(!((i=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,a,i;r<a;++r){for(var s=0,c=0,l=0;s<i;++s){for(var d=e[t[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var m=e[t[g]],y=m[r][1]||0,v=m[r-1][1]||0;p+=y-v}c+=f,l+=p*f}o[r-1][1]+=o[r-1][0]=n,c&&(n-=l/c)}o[r-1][1]+=o[r-1][0]=n,Et(e,t)}}function Fs(e){var t=e.map(Up);return Nt(e).sort(function(n,r){return t[n]-t[r]})}function Up(e){for(var t=-1,n=0,r=e.length,o,a=-1/0;++t<r;)(o=+e[t][1])>a&&(a=o,n=t);return n}function Hs(e){var t=e.map(Vs);return Nt(e).sort(function(n,r){return t[n]-t[r]})}function Vs(e){for(var t=0,n=-1,r=e.length,o;++n<r;)(o=+e[n][1])&&(t+=o);return t}function Fp(e){return Hs(e).reverse()}function Hp(e){var t=e.length,n,r,o=e.map(Vs),a=Fs(e),i=0,s=0,c=[],l=[];for(n=0;n<t;++n)r=a[n],i<s?(i+=o[r],c.push(r)):(s+=o[r],l.push(r));return l.reverse().concat(c)}function Vp(e){return Nt(e).reverse()}const Pr={appearance:Fs,ascending:Hs,descending:Fp,insideOut:Hp,none:Nt,reverse:Vp},jr={expand:Rp,diverging:Dp,none:Et,silhouette:Lp,wiggle:zp},Ws=e=>{const{series:t,seriesOrder:n,defaultStrategy:r}=e,o=[],a={};return n.forEach(i=>{const{stack:s,stackOrder:c,stackOffset:l}=t[i];s===void 0?o.push({ids:[i],stackingOrder:Pr.none,stackingOffset:jr.none}):a[s]===void 0?(a[s]=o.length,o.push({ids:[i],stackingOrder:Pr[c??(r==null?void 0:r.stackOrder)??"none"],stackingOffset:jr[l??(r==null?void 0:r.stackOffset)??"diverging"]})):(o[a[s]].ids.push(i),c!==void 0&&(o[a[s]].stackingOrder=Pr[c]),l!==void 0&&(o[a[s]].stackingOffset=jr[l]))}),o};function Bs(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=C({},e[r],{valueFormatter:e[r].valueFormatter??t})}),n}const Wp=(e,t)=>{const{seriesOrder:n,series:r}=e,o=Ws(e),a=t??[];n.forEach(s=>{const c=r[s].data;if(c!==void 0)c.forEach((l,d)=>{a.length<=d?a.push({[s]:l}):a[d][s]=l});else if(t===void 0)throw new Error([`MUI X: bar series with id='${s}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const i={};return o.forEach(s=>{const{ids:c,stackingOffset:l,stackingOrder:d}=s,f=Us().keys(c.map(h=>{const p=r[h].dataKey;return r[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(d).offset(l)(a);c.forEach((h,p)=>{const g=r[h].dataKey;i[h]=C({layout:"vertical"},r[h],{data:g?t.map(m=>{const y=m[g];return typeof y!="number"?0:y}):r[h].data,stackedData:f[p].map(([m,y])=>[m,y])})})}),{seriesOrder:n,stackingGroups:o,series:Bs(i,s=>s==null?"":s.toLocaleString())}},Bp=(e,t,n)=>{const r=e.layout==="vertical",o=r?t==null?void 0:t.colorScale:n==null?void 0:n.colorScale,a=r?n==null?void 0:n.colorScale:t==null?void 0:t.colorScale,i=r?t==null?void 0:t.data:n==null?void 0:n.data;return a?s=>{const c=e.data[s],l=c===null?e.color:a(c);return l===null?e.color:l}:o&&i?s=>{const c=i[s],l=c===null?e.color:o(c);return l===null?e.color:l}:()=>e.color},Xp={seriesType:"bar",seriesFormatter:Wp,colorProcessor:Bp,xExtremumGetter:yp,yExtremumGetter:xp},Fn=(e,t)=>[t[0]===null?e[0]:Math.min(e[0],t[0]),t[1]===null?e[1]:Math.max(e[1],t[1])],Yp=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].xAxisId??t[a].xAxisKey;return i===n.id||i===void 0&&r}).reduce((a,i)=>{var l;const s=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),c=(l=t[i].data)==null?void 0:l.reduce((d,f,h)=>s&&!s(f,h)?d:Fn(d,[f.x,f.x]),[1/0,-1/0]);return Fn(a,c??[1/0,-1/0])},[1/0,-1/0])},qp=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].yAxisId??t[a].yAxisKey;return i===n.id||i===void 0&&r}).reduce((a,i)=>{var l;const s=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),c=(l=t[i].data)==null?void 0:l.reduce((d,f,h)=>s&&!s(f,h)?d:Fn(d,[f.y,f.y]),[1/0,-1/0]);return Fn(a,c??[1/0,-1/0])},[1/0,-1/0])},Gp=({series:e,seriesOrder:t},n)=>({series:Object.fromEntries(Object.entries(e).map(([o,a])=>{const i=a==null?void 0:a.datasetKeys,s=["x","y","id"].filter(l=>typeof(i==null?void 0:i[l])!="string");if(a!=null&&a.datasetKeys&&s.length>0)throw new Error([`MUI X: scatter series with id='${o}' has incomplete datasetKeys.`,`Properties ${s.map(l=>`"${l}"`).join(", ")} are missing.`].join(`
`));const c=i?(n==null?void 0:n.map(l=>({x:l[i.x]??null,y:l[i.y]??null,z:i.z&&l[i.z],id:l[i.id]})))??[]:a.data??[];return[o,C({},a,{data:c,valueFormatter:a.valueFormatter??(l=>`(${l.x}, ${l.y})`)})]})),seriesOrder:t}),Kp=(e,t,n,r)=>{const o=r==null?void 0:r.colorScale,a=n==null?void 0:n.colorScale,i=t==null?void 0:t.colorScale;return o?s=>{var d,f;if(((d=r==null?void 0:r.data)==null?void 0:d[s])!==void 0){const h=o((f=r==null?void 0:r.data)==null?void 0:f[s]);if(h!==null)return h}const c=e.data[s],l=c===null?e.color:o(c.z);return l===null?e.color:l}:a?s=>{const c=e.data[s],l=c===null?e.color:a(c.y);return l===null?e.color:l}:i?s=>{const c=e.data[s],l=c===null?e.color:i(c.x);return l===null?e.color:l}:()=>e.color},Qp={seriesType:"scatter",seriesFormatter:Gp,colorProcessor:Kp,xExtremumGetter:Yp,yExtremumGetter:qp},Zp=e=>{const{axis:t}=e,n=Math.min(...t.data??[]),r=Math.max(...t.data??[]);return[n,r]};function Jp(e,t,n){return t.reduce((r,o,a)=>{const[i,s]=e(o);return n&&(!n({y:i,x:null},a)||!n({y:s,x:null},a))?r:[Math.min(i,s,r[0]),Math.max(i,s,r[1])]},[1/0,-1/0])}const em=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].yAxisId??t[a].yAxisKey;return i===n.id||r&&i===void 0}).reduce((a,i)=>{const{area:s,stackedData:c}=t[i],l=s!==void 0,d=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),f=l&&n.scaleType!=="log"&&typeof t[i].baseline!="string"?m=>m:m=>[m[1],m[1]],h=Jp(f,c,d),[p,g]=h;return[Math.min(p,a[0]),Math.max(g,a[1])]},[1/0,-1/0])},tm=(e,t)=>{const{seriesOrder:n,series:r}=e,o=Ws(C({},e,{defaultStrategy:{stackOffset:"none"}})),a=t??[];n.forEach(s=>{const c=r[s].data;c!==void 0&&c.forEach((l,d)=>{a.length<=d?a.push({[s]:l}):a[d][s]=l})});const i={};return o.forEach(s=>{const{ids:c,stackingOrder:l,stackingOffset:d}=s,f=Us().keys(c.map(h=>{const p=r[h].dataKey;return r[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(l).offset(d)(a);c.forEach((h,p)=>{const g=r[h].dataKey;i[h]=C({},r[h],{data:g?t.map(m=>{const y=m[g];return typeof y!="number"?null:y}):r[h].data,stackedData:f[p].map(([m,y])=>[m,y])})})}),{seriesOrder:n,stackingGroups:o,series:Bs(i,s=>s==null?"":s.toLocaleString())}},nm=(e,t,n)=>{const r=n==null?void 0:n.colorScale,o=t==null?void 0:t.colorScale;return r?a=>{const i=e.data[a],s=i===null?e.color:r(i);return s===null?e.color:s}:o?a=>{var c;const i=(c=t.data)==null?void 0:c[a],s=i===null?e.color:o(i);return s===null?e.color:s}:()=>e.color},rm={seriesType:"line",colorProcessor:nm,seriesFormatter:tm,xExtremumGetter:Zp,yExtremumGetter:em};function Le(e,t){return typeof e=="function"?e(t):e}const om=(e="none")=>{if(typeof e=="function")return e;switch(e){case"none":return null;case"desc":return(t,n)=>n-t;case"asc":return(t,n)=>t-n;default:return null}},am=e=>{const{seriesOrder:t,series:n}=e,r={};return t.forEach(o=>{const a=Ep().startAngle(2*Math.PI*(n[o].startAngle??0)/360).endAngle(2*Math.PI*(n[o].endAngle??360)/360).padAngle(2*Math.PI*(n[o].paddingAngle??0)/360).sortValues(om(n[o].sortingValues??"none"))(n[o].data.map(i=>i.value));r[o]=C({valueFormatter:i=>i.value.toLocaleString()},n[o],{data:n[o].data.map((i,s)=>C({},i,{id:i.id??`auto-generated-pie-id-${o}-${s}`},a[s])).map((i,s)=>{var c,l;return C({},i,{formattedValue:((l=(c=n[o]).valueFormatter)==null?void 0:l.call(c,C({},i,{label:Le(i.label,"arc")}),{dataIndex:s}))??i.value.toLocaleString()})})})}),{seriesOrder:t,series:r}},im=e=>t=>e.data[t].color,sm={seriesType:"pie",colorProcessor:im,seriesFormatter:am},lm=[Xp,Qp,rm,sm];function cm(e){const t=e??lm,n={},r={},o={},a={},i={},s={};for(let c=0;c<t.length;c+=1){const l=t[c],d=l.seriesType;n[d]=l.seriesFormatter,r[d]=l.colorProcessor,l.xExtremumGetter&&(o[d]=l.xExtremumGetter),l.yExtremumGetter&&(a[d]=l.yExtremumGetter),l.rotationExtremumGetter&&(i[d]=l.rotationExtremumGetter),l.radiusExtremumGetter&&(s[d]=l.radiusExtremumGetter)}return{seriesFormatters:n,colorProcessors:r,xExtremumGetters:o,yExtremumGetters:a,rotationExtremumGetters:i,radiusExtremumGetters:s}}function um(e){const{children:t,plugins:n}=e,r=w.useMemo(()=>({isInitialized:!0,data:cm(n)}),[n]);return u.jsx(bn.Provider,{value:r,children:t})}function Xs(e){const{isInitialized:t,data:n}=w.useContext(bn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.colorProcessors}function dm(e){const{isInitialized:t,data:n}=w.useContext(bn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.seriesFormatters}function fm(e){const{isInitialized:t,data:n}=w.useContext(bn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.xExtremumGetters}function hm(e){const{isInitialized:t,data:n}=w.useContext(bn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.yExtremumGetters}function pm(e){const{series:t,dataset:n,colors:r=gp,children:o}=e,a=dm(),i=hn(),s=w.useMemo(()=>({isInitialized:!0,data:hp({series:t,colors:typeof r=="function"?r(i.palette.mode):r,seriesFormatters:a,dataset:n})}),[t,r,i.palette.mode,a,n]);return u.jsx(Ns.Provider,{value:s,children:o})}function ht(){const{isInitialized:e,data:t}=w.useContext(Ns);if(!e)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function mm(){const e=ht();return w.useMemo(()=>e.pie,[e.pie])}const gm=["highlighted","faded"],ym=e=>{const t=e??{},{highlighted:n,faded:r}=t,o=ne(t,gm);return C({highlight:n,fade:r},o)};function xm({children:e,highlightedItem:t,onHighlightChange:n}){const[r,o]=lp({controlled:t,default:null,name:"HighlightedProvider",state:"highlightedItem"}),a=ht(),i=w.useMemo(()=>{const l=new Map;return Object.keys(a).forEach(d=>{const f=a[d];Object.keys((f==null?void 0:f.series)??{}).forEach(h=>{const p=f==null?void 0:f.series[h];l.set(h,ym(p==null?void 0:p.highlightScope))})}),l},[a]),s=r&&r.seriesId?i.get(r.seriesId)??void 0:void 0,c=w.useMemo(()=>({isInitialized:!0,data:{highlightScope:s,highlightedItem:r,setHighlighted:l=>{o(l),n==null||n(l)},clearHighlighted:()=>{o(null),n==null||n(null)},isHighlighted:up(s,r),isFaded:cp(s,r)}}),[r,s,o,n]);return u.jsx(Es.Provider,{value:c,children:e})}function go(){const{isInitialized:e,data:t}=w.useContext(Es);if(!e)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function $n(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bm(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yo(e){let t,n,r;e.length!==2?(t=$n,n=(s,c)=>$n(e(s),c),r=(s,c)=>e(s)-c):(t=e===$n||e===bm?e:vm,n=e,r=e);function o(s,c,l=0,d=s.length){if(l<d){if(t(c,c)!==0)return d;do{const f=l+d>>>1;n(s[f],c)<0?l=f+1:d=f}while(l<d)}return l}function a(s,c,l=0,d=s.length){if(l<d){if(t(c,c)!==0)return d;do{const f=l+d>>>1;n(s[f],c)<=0?l=f+1:d=f}while(l<d)}return l}function i(s,c,l=0,d=s.length){const f=o(s,c,l,d-1);return f>l&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:o,center:i,right:a}}function vm(){return 0}function wm(e){return e===null?NaN:+e}const Sm=yo($n),Ys=Sm.right;yo(wm).center;class va extends Map{constructor(t,n=jm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(wa(this,t))}has(t){return super.has(wa(this,t))}set(t,n){return super.set(Cm(this,t),n)}delete(t){return super.delete(Pm(this,t))}}function wa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Cm({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Pm({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function jm(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Mm=Math.sqrt(50),Am=Math.sqrt(10),Tm=Math.sqrt(2);function Hn(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=Mm?10:a>=Am?5:a>=Tm?2:1;let s,c,l;return o<0?(l=Math.pow(10,-o)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,o)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Hn(e,t,n*2):[s,c,l]}function qr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,i]=r?Hn(t,e,n):Hn(e,t,n);if(!(a>=o))return[];const s=a-o+1,c=new Array(s);if(r)if(i<0)for(let l=0;l<s;++l)c[l]=(a-l)/-i;else for(let l=0;l<s;++l)c[l]=(a-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(o+l)/-i;else for(let l=0;l<s;++l)c[l]=(o+l)*i;return c}function Gr(e,t,n){return t=+t,e=+e,n=+n,Hn(e,t,n)[2]}function Kr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?Gr(t,e,n):Gr(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function _m(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(o);++r<o;)a[r]=e+r*n;return a}function et(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function km(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sa=Symbol("implicit");function Vn(){var e=new va,t=[],n=[],r=Sa;function o(a){let i=e.get(a);if(i===void 0){if(r!==Sa)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new va;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return Vn(t,n).unknown(r)},et.apply(o,arguments),o}function xo(){var e=Vn().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,a,i,s=!1,c=0,l=0,d=.5;delete e.unknown;function f(){var h=t().length,p=o<r,g=p?o:r,m=p?r:o;a=(m-g)/Math.max(1,h-c+l*2),s&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*d,i=a*(1-c),s&&(g=Math.round(g),i=Math.round(i));var y=_m(h).map(function(v){return g+a*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,o]=h,r=+r,o=+o,f()):[r,o]},e.rangeRound=function(h){return[r,o]=h,r=+r,o=+o,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xo(t(),[r,o]).round(s).paddingInner(c).paddingOuter(l).align(d)},et.apply(f(),arguments)}function qs(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qs(t())},e}function Om(){return qs(xo.apply(null,arguments).paddingInner(1))}function bo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vn(){}var on=.7,Wn=1/on,kt="\\s*([+-]?\\d+)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Im=/^#([0-9a-f]{3,8})$/,Em=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Nm=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),$m=new RegExp(`^rgba\\(${kt},${kt},${kt},${an}\\)$`),Rm=new RegExp(`^rgba\\(${He},${He},${He},${an}\\)$`),Dm=new RegExp(`^hsl\\(${an},${He},${He}\\)$`),Lm=new RegExp(`^hsla\\(${an},${He},${He},${an}\\)$`),Ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bo(vn,sn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pa,formatHex:Pa,formatHex8:zm,formatHsl:Um,formatRgb:ja,toString:ja});function Pa(){return this.rgb().formatHex()}function zm(){return this.rgb().formatHex8()}function Um(){return Ks(this).formatHsl()}function ja(){return this.rgb().formatRgb()}function sn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Im.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ma(t):n===3?new Me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Em.exec(e))?new Me(t[1],t[2],t[3],1):(t=Nm.exec(e))?new Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$m.exec(e))?Mn(t[1],t[2],t[3],t[4]):(t=Rm.exec(e))?Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dm.exec(e))?_a(t[1],t[2]/100,t[3]/100,1):(t=Lm.exec(e))?_a(t[1],t[2]/100,t[3]/100,t[4]):Ca.hasOwnProperty(e)?Ma(Ca[e]):e==="transparent"?new Me(NaN,NaN,NaN,0):null}function Ma(e){return new Me(e>>16&255,e>>8&255,e&255,1)}function Mn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Me(e,t,n,r)}function Fm(e){return e instanceof vn||(e=sn(e)),e?(e=e.rgb(),new Me(e.r,e.g,e.b,e.opacity)):new Me}function Qr(e,t,n,r){return arguments.length===1?Fm(e):new Me(e,t,n,r??1)}function Me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}bo(Me,Qr,Gs(vn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?on:Math.pow(on,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Me(ut(this.r),ut(this.g),ut(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Aa,formatHex:Aa,formatHex8:Hm,formatRgb:Ta,toString:Ta}));function Aa(){return`#${st(this.r)}${st(this.g)}${st(this.b)}`}function Hm(){return`#${st(this.r)}${st(this.g)}${st(this.b)}${st((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ta(){const e=Bn(this.opacity);return`${e===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${e===1?")":`, ${e})`}`}function Bn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function st(e){return e=ut(e),(e<16?"0":"")+e.toString(16)}function _a(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,n,r)}function Ks(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof vn||(e=sn(e)),!e)return new De;if(e instanceof De)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,c=(a+o)/2;return s?(t===a?i=(n-r)/s+(n<r)*6:n===a?i=(r-t)/s+2:i=(t-n)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new De(i,s,c,e.opacity)}function Vm(e,t,n,r){return arguments.length===1?Ks(e):new De(e,t,n,r??1)}function De(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bo(De,Vm,Gs(vn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new De(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?on:Math.pow(on,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Me(Mr(e>=240?e-240:e+120,o,r),Mr(e,o,r),Mr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new De(ka(this.h),An(this.s),An(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bn(this.opacity);return`${e===1?"hsl(":"hsla("}${ka(this.h)}, ${An(this.s)*100}%, ${An(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ka(e){return e=(e||0)%360,e<0?e+360:e}function An(e){return Math.max(0,Math.min(1,e||0))}function Mr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vo=e=>()=>e;function Wm(e,t){return function(n){return e+n*t}}function Bm(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Xm(e){return(e=+e)==1?Qs:function(t,n){return n-t?Bm(t,n,e):vo(isNaN(t)?n:t)}}function Qs(e,t){var n=t-e;return n?Wm(e,n):vo(isNaN(e)?t:e)}const Oa=function e(t){var n=Xm(t);function r(o,a){var i=n((o=Qr(o)).r,(a=Qr(a)).r),s=n(o.g,a.g),c=n(o.b,a.b),l=Qs(o.opacity,a.opacity);return function(d){return o.r=i(d),o.g=s(d),o.b=c(d),o.opacity=l(d),o+""}}return r.gamma=e,r}(1);function Ym(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function qm(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gm(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=or(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(s){for(i=0;i<r;++i)a[i]=o[i](s);return a}}function Zs(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Km(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=or(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var Zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Zr.source,"g");function Qm(e){return function(){return e}}function Zm(e){return function(t){return e(t)+""}}function Jm(e,t){var n=Zr.lastIndex=Ar.lastIndex=0,r,o,a,i=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Zr.exec(e))&&(o=Ar.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:ln(r,o)})),n=Ar.lastIndex;return n<t.length&&(a=t.slice(n),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?Zm(c[0].x):Qm(t):(t=c.length,function(l){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(l);return s.join("")})}function or(e,t){var n=typeof t,r;return t==null||n==="boolean"?vo(t):(n==="number"?ln:n==="string"?(r=sn(t))?(t=r,Oa):Jm:t instanceof sn?Oa:t instanceof Date?Zs:qm(t)?Ym:Array.isArray(t)?Gm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Km:ln)(e,t)}function Js(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function eg(e){return function(){return e}}function tg(e){return+e}var Ia=[0,1];function Ie(e){return e}function Jr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eg(isNaN(t)?NaN:.5)}function ng(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function rg(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=Jr(o,r),a=n(i,a)):(r=Jr(r,o),a=n(a,i)),function(s){return a(r(s))}}function og(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=Jr(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(s){var c=Ys(e,s,1,r)-1;return a[c](o[c](s))}}function ar(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wo(){var e=Ia,t=Ia,n=or,r,o,a,i=Ie,s,c,l;function d(){var h=Math.min(e.length,t.length);return i!==Ie&&(i=ng(e[0],e[h-1])),s=h>2?og:rg,c=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(r),t,n)))(r(i(h)))}return f.invert=function(h){return i(o((l||(l=s(t,e.map(r),ln)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,tg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Js,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Ie,d()):i!==Ie},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,o=p,d()}}function el(){return wo()(Ie,Ie)}function ag(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $t(e){return e=Xn(Math.abs(e)),e?e[1]:NaN}function ig(e,t){return function(n,r){for(var o=n.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(o-=s,o+s)),!((c+=s+1)>r));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function sg(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var lg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cn(e){if(!(t=lg.exec(e)))throw new Error("invalid format: "+e);var t;return new So({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cn.prototype=So.prototype;function So(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}So.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cg(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var tl;function ug(e,t){var n=Xn(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(tl=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xn(e,Math.max(0,t+a-1))[0]}function Ea(e,t){var n=Xn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Na={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ag,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ea(e*100,t),r:Ea,s:ug,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $a(e){return e}var Ra=Array.prototype.map,Da=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dg(e){var t=e.grouping===void 0||e.thousands===void 0?$a:ig(Ra.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$a:sg(Ra.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(f){f=cn(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,S=f.comma,x=f.precision,j=f.trim,P=f.type;P==="n"?(S=!0,P="g"):Na[P]||(x===void 0&&(x=12),j=!0,P="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var b=m==="$"?n:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",_=m==="$"?r:/[%p]/.test(P)?i:"",T=Na[P],N=/[defgprs%]/.test(P);x=x===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(M){var E=b,A=_,I,D,R;if(P==="c")A=T(M)+A,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?c:T(Math.abs(M),x),j&&(M=cg(M)),H&&+M==0&&g!=="+"&&(H=!1),E=(H?g==="("?g:s:g==="-"||g==="("?"":g)+E,A=(P==="s"?Da[8+tl/3]:"")+A+(H&&g==="("?")":""),N){for(I=-1,D=M.length;++I<D;)if(R=M.charCodeAt(I),48>R||R>57){A=(R===46?o+M.slice(I+1):M.slice(I))+A,M=M.slice(0,I);break}}}S&&!y&&(M=t(M,1/0));var W=E.length+M.length+A.length,F=W<v?new Array(v-W+1).join(h):"";switch(S&&y&&(M=t(F+M,F.length?v-A.length:1/0),F=""),p){case"<":M=E+M+A+F;break;case"=":M=E+F+M+A;break;case"^":M=F.slice(0,W=F.length>>1)+E+M+A+F.slice(W);break;default:M=F+E+M+A;break}return a(M)}return O.toString=function(){return f+""},O}function d(f,h){var p=l((f=cn(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor($t(h)/3)))*3,m=Math.pow(10,-g),y=Da[8+g/3];return function(v){return p(m*v)+y}}return{format:l,formatPrefix:d}}var Tn,Co,nl;fg({thousands:",",grouping:[3],currency:["$",""]});function fg(e){return Tn=dg(e),Co=Tn.format,nl=Tn.formatPrefix,Tn}function hg(e){return Math.max(0,-$t(Math.abs(e)))}function pg(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($t(t)/3)))*3-$t(Math.abs(e)))}function mg(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$t(t)-$t(e))+1}function gg(e,t,n,r){var o=Kr(e,t,n),a;switch(r=cn(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=pg(o,i))&&(r.precision=a),nl(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=mg(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hg(o))&&(r.precision=a-(r.type==="%")*2);break}}return Co(r)}function Po(e){var t=e.domain;return e.ticks=function(n){var r=t();return qr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return gg(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,i=r[o],s=r[a],c,l,d=10;for(s<i&&(l=i,i=s,s=l,l=o,o=a,a=l);d-- >0;){if(l=Gr(i,s,n),l===c)return r[o]=i,r[a]=s,t(r);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function rl(){var e=el();return e.copy=function(){return ar(e,rl())},et.apply(e,arguments),Po(e)}function ol(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],a=e[r],i;return a<o&&(i=n,n=r,r=i,i=o,o=a,a=i),e[n]=t.floor(o),e[r]=t.ceil(a),e}function La(e){return Math.log(e)}function za(e){return Math.exp(e)}function yg(e){return-Math.log(-e)}function xg(e){return-Math.exp(-e)}function bg(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vg(e){return e===10?bg:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wg(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ua(e){return(t,n)=>-e(-t,n)}function Sg(e){const t=e(La,za),n=t.domain;let r=10,o,a;function i(){return o=wg(r),a=vg(r),n()[0]<0?(o=Ua(o),a=Ua(a),e(yg,xg)):e(La,za),t}return t.base=function(s){return arguments.length?(r=+s,i()):r},t.domain=function(s){return arguments.length?(n(s),i()):n()},t.ticks=s=>{const c=n();let l=c[0],d=c[c.length-1];const f=d<l;f&&([l,d]=[d,l]);let h=o(l),p=o(d),g,m;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(g=1;g<r;++g)if(m=h<0?g/a(-h):g*a(h),!(m<l)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<l)){if(m>d)break;v.push(m)}v.length*2<y&&(v=qr(l,d,y))}else v=qr(h,p,Math.min(p-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=cn(c)).precision==null&&(c.trim=!0),c=Co(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/a(Math.round(o(d)));return f*r<r-.5&&(f*=r),f<=l?c(d):""}},t.nice=()=>n(ol(n(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),t}function al(){const e=Sg(wo()).domain([1,10]);return e.copy=()=>ar(e,al()).base(e.base()),et.apply(e,arguments),e}function Fa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Cg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pg(e){return e<0?-e*e:e*e}function jg(e){var t=e(Ie,Ie),n=1;function r(){return n===1?e(Ie,Ie):n===.5?e(Cg,Pg):e(Fa(n),Fa(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},Po(t)}function jo(){var e=jg(wo());return e.copy=function(){return ar(e,jo()).exponent(e.exponent())},et.apply(e,arguments),e}function Mg(){return jo.apply(null,arguments).exponent(.5)}function il(){var e=[.5],t=[0,1],n,r=1;function o(a){return a!=null&&a<=a?t[Ys(e,a,0,r)]:n}return o.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return il().domain(e).range(t).unknown(n)},et.apply(o,arguments)}const Tr=new Date,_r=new Date;function se(e,t,n,r){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,s)=>{const c=[];if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;let l;do c.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<i);return c},o.filter=a=>se(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!a(i););else for(;--s>=0;)for(;t(i,1),!a(i););}),n&&(o.count=(a,i)=>(Tr.setTime(+a),_r.setTime(+i),e(Tr),e(_r),Math.floor(n(Tr,_r))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?i=>r(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const Yn=se(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?se(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Yn);Yn.range;const Be=1e3,Ee=Be*60,Xe=Ee*60,Ge=Xe*24,Mo=Ge*7,Ha=Ge*30,kr=Ge*365,lt=se(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Be)},(e,t)=>(t-e)/Be,e=>e.getUTCSeconds());lt.range;const Ao=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be)},(e,t)=>{e.setTime(+e+t*Ee)},(e,t)=>(t-e)/Ee,e=>e.getMinutes());Ao.range;const To=se(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ee)},(e,t)=>(t-e)/Ee,e=>e.getUTCMinutes());To.range;const _o=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be-e.getMinutes()*Ee)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getHours());_o.range;const ko=se(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getUTCHours());ko.range;const wn=se(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ee)/Ge,e=>e.getDate()-1);wn.range;const ir=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ge,e=>e.getUTCDate()-1);ir.range;const sl=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ge,e=>Math.floor(e/Ge));sl.range;function pt(e){return se(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ee)/Mo)}const sr=pt(0),qn=pt(1),Ag=pt(2),Tg=pt(3),Rt=pt(4),_g=pt(5),kg=pt(6);sr.range;qn.range;Ag.range;Tg.range;Rt.range;_g.range;kg.range;function mt(e){return se(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Mo)}const lr=mt(0),Gn=mt(1),Og=mt(2),Ig=mt(3),Dt=mt(4),Eg=mt(5),Ng=mt(6);lr.range;Gn.range;Og.range;Ig.range;Dt.range;Eg.range;Ng.range;const Oo=se(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Oo.range;const Io=se(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Io.range;const Ke=se(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ke.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ke.range;const Qe=se(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qe.range;function ll(e,t,n,r,o,a){const i=[[lt,1,Be],[lt,5,5*Be],[lt,15,15*Be],[lt,30,30*Be],[a,1,Ee],[a,5,5*Ee],[a,15,15*Ee],[a,30,30*Ee],[o,1,Xe],[o,3,3*Xe],[o,6,6*Xe],[o,12,12*Xe],[r,1,Ge],[r,2,2*Ge],[n,1,Mo],[t,1,Ha],[t,3,3*Ha],[e,1,kr]];function s(l,d,f){const h=d<l;h&&([l,d]=[d,l]);const p=f&&typeof f.range=="function"?f:c(l,d,f),g=p?p.range(l,+d+1):[];return h?g.reverse():g}function c(l,d,f){const h=Math.abs(d-l)/f,p=yo(([,,y])=>y).right(i,h);if(p===i.length)return e.every(Kr(l/kr,d/kr,f));if(p===0)return Yn.every(Math.max(Kr(l,d,f),1));const[g,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return g.every(m)}return[s,c]}const[$g,Rg]=ll(Qe,Io,lr,sl,ko,To),[Dg,Lg]=ll(Ke,Oo,sr,wn,_o,Ao);function Or(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ir(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function zg(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Wt(o),d=Bt(o),f=Wt(a),h=Bt(a),p=Wt(i),g=Bt(i),m=Wt(s),y=Bt(s),v=Wt(c),S=Bt(c),x={a:H,A:W,b:F,B:V,c:null,d:qa,e:qa,f:ly,g:xy,G:vy,H:ay,I:iy,j:sy,L:cl,m:cy,M:uy,p:le,q,Q:Qa,s:Za,S:dy,u:fy,U:hy,V:py,w:my,W:gy,x:null,X:null,y:yy,Y:by,Z:wy,"%":Ka},j={a:pe,A:ue,b:Q,B:we,c:null,d:Ga,e:Ga,f:jy,g:$y,G:Dy,H:Sy,I:Cy,j:Py,L:dl,m:My,M:Ay,p:ye,q:Se,Q:Qa,s:Za,S:Ty,u:_y,U:ky,V:Oy,w:Iy,W:Ey,x:null,X:null,y:Ny,Y:Ry,Z:Ly,"%":Ka},P={a:O,A:M,b:E,B:A,c:I,d:Xa,e:Xa,f:ty,g:Ba,G:Wa,H:Ya,I:Ya,j:Qg,L:ey,m:Kg,M:Zg,p:N,q:Gg,Q:ry,s:oy,S:Jg,u:Wg,U:Bg,V:Xg,w:Vg,W:Yg,x:D,X:R,y:Ba,Y:Wa,Z:qg,"%":ny};x.x=b(n,x),x.X=b(r,x),x.c=b(t,x),j.x=b(n,j),j.X=b(r,j),j.c=b(t,j);function b($,z){return function(U){var k=[],K=-1,B=0,re=$.length,L,G,Z;for(U instanceof Date||(U=new Date(+U));++K<re;)$.charCodeAt(K)===37&&(k.push($.slice(B,K)),(G=Va[L=$.charAt(++K)])!=null?L=$.charAt(++K):G=L==="e"?" ":"0",(Z=z[L])&&(L=Z(U,G)),k.push(L),B=K+1);return k.push($.slice(B,K)),k.join("")}}function _($,z){return function(U){var k=Vt(1900,void 0,1),K=T(k,$,U+="",0),B,re;if(K!=U.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(z&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?(B=Ir(Vt(k.y,0,1)),re=B.getUTCDay(),B=re>4||re===0?Gn.ceil(B):Gn(B),B=ir.offset(B,(k.V-1)*7),k.y=B.getUTCFullYear(),k.m=B.getUTCMonth(),k.d=B.getUTCDate()+(k.w+6)%7):(B=Or(Vt(k.y,0,1)),re=B.getDay(),B=re>4||re===0?qn.ceil(B):qn(B),B=wn.offset(B,(k.V-1)*7),k.y=B.getFullYear(),k.m=B.getMonth(),k.d=B.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),re="Z"in k?Ir(Vt(k.y,0,1)).getUTCDay():Or(Vt(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(re+5)%7:k.w+k.U*7-(re+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,Ir(k)):Or(k)}}function T($,z,U,k){for(var K=0,B=z.length,re=U.length,L,G;K<B;){if(k>=re)return-1;if(L=z.charCodeAt(K++),L===37){if(L=z.charAt(K++),G=P[L in Va?z.charAt(K++):L],!G||(k=G($,U,k))<0)return-1}else if(L!=U.charCodeAt(k++))return-1}return k}function N($,z,U){var k=l.exec(z.slice(U));return k?($.p=d.get(k[0].toLowerCase()),U+k[0].length):-1}function O($,z,U){var k=p.exec(z.slice(U));return k?($.w=g.get(k[0].toLowerCase()),U+k[0].length):-1}function M($,z,U){var k=f.exec(z.slice(U));return k?($.w=h.get(k[0].toLowerCase()),U+k[0].length):-1}function E($,z,U){var k=v.exec(z.slice(U));return k?($.m=S.get(k[0].toLowerCase()),U+k[0].length):-1}function A($,z,U){var k=m.exec(z.slice(U));return k?($.m=y.get(k[0].toLowerCase()),U+k[0].length):-1}function I($,z,U){return T($,t,z,U)}function D($,z,U){return T($,n,z,U)}function R($,z,U){return T($,r,z,U)}function H($){return i[$.getDay()]}function W($){return a[$.getDay()]}function F($){return c[$.getMonth()]}function V($){return s[$.getMonth()]}function le($){return o[+($.getHours()>=12)]}function q($){return 1+~~($.getMonth()/3)}function pe($){return i[$.getUTCDay()]}function ue($){return a[$.getUTCDay()]}function Q($){return c[$.getUTCMonth()]}function we($){return s[$.getUTCMonth()]}function ye($){return o[+($.getUTCHours()>=12)]}function Se($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var z=b($+="",x);return z.toString=function(){return $},z},parse:function($){var z=_($+="",!1);return z.toString=function(){return $},z},utcFormat:function($){var z=b($+="",j);return z.toString=function(){return $},z},utcParse:function($){var z=_($+="",!0);return z.toString=function(){return $},z}}}var Va={"-":"",_:" ",0:"0"},ce=/^\s*\d+/,Ug=/^%/,Fg=/[\\^$*+?|[\]().{}]/g;function X(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function Hg(e){return e.replace(Fg,"\\$&")}function Wt(e){return new RegExp("^(?:"+e.map(Hg).join("|")+")","i")}function Bt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Vg(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Wg(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Bg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Yg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wa(e,t,n){var r=ce.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gg(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Kg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xa(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qg(e,t,n){var r=ce.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ya(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Zg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Jg(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ey(e,t,n){var r=ce.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ty(e,t,n){var r=ce.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ny(e,t,n){var r=Ug.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ry(e,t,n){var r=ce.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oy(e,t,n){var r=ce.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qa(e,t){return X(e.getDate(),t,2)}function ay(e,t){return X(e.getHours(),t,2)}function iy(e,t){return X(e.getHours()%12||12,t,2)}function sy(e,t){return X(1+wn.count(Ke(e),e),t,3)}function cl(e,t){return X(e.getMilliseconds(),t,3)}function ly(e,t){return cl(e,t)+"000"}function cy(e,t){return X(e.getMonth()+1,t,2)}function uy(e,t){return X(e.getMinutes(),t,2)}function dy(e,t){return X(e.getSeconds(),t,2)}function fy(e){var t=e.getDay();return t===0?7:t}function hy(e,t){return X(sr.count(Ke(e)-1,e),t,2)}function ul(e){var t=e.getDay();return t>=4||t===0?Rt(e):Rt.ceil(e)}function py(e,t){return e=ul(e),X(Rt.count(Ke(e),e)+(Ke(e).getDay()===4),t,2)}function my(e){return e.getDay()}function gy(e,t){return X(qn.count(Ke(e)-1,e),t,2)}function yy(e,t){return X(e.getFullYear()%100,t,2)}function xy(e,t){return e=ul(e),X(e.getFullYear()%100,t,2)}function by(e,t){return X(e.getFullYear()%1e4,t,4)}function vy(e,t){var n=e.getDay();return e=n>=4||n===0?Rt(e):Rt.ceil(e),X(e.getFullYear()%1e4,t,4)}function wy(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+X(t/60|0,"0",2)+X(t%60,"0",2)}function Ga(e,t){return X(e.getUTCDate(),t,2)}function Sy(e,t){return X(e.getUTCHours(),t,2)}function Cy(e,t){return X(e.getUTCHours()%12||12,t,2)}function Py(e,t){return X(1+ir.count(Qe(e),e),t,3)}function dl(e,t){return X(e.getUTCMilliseconds(),t,3)}function jy(e,t){return dl(e,t)+"000"}function My(e,t){return X(e.getUTCMonth()+1,t,2)}function Ay(e,t){return X(e.getUTCMinutes(),t,2)}function Ty(e,t){return X(e.getUTCSeconds(),t,2)}function _y(e){var t=e.getUTCDay();return t===0?7:t}function ky(e,t){return X(lr.count(Qe(e)-1,e),t,2)}function fl(e){var t=e.getUTCDay();return t>=4||t===0?Dt(e):Dt.ceil(e)}function Oy(e,t){return e=fl(e),X(Dt.count(Qe(e),e)+(Qe(e).getUTCDay()===4),t,2)}function Iy(e){return e.getUTCDay()}function Ey(e,t){return X(Gn.count(Qe(e)-1,e),t,2)}function Ny(e,t){return X(e.getUTCFullYear()%100,t,2)}function $y(e,t){return e=fl(e),X(e.getUTCFullYear()%100,t,2)}function Ry(e,t){return X(e.getUTCFullYear()%1e4,t,4)}function Dy(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dt(e):Dt.ceil(e),X(e.getUTCFullYear()%1e4,t,4)}function Ly(){return"+0000"}function Ka(){return"%"}function Qa(e){return+e}function Za(e){return Math.floor(+e/1e3)}var St,hl,pl;zy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zy(e){return St=zg(e),hl=St.format,St.parse,pl=St.utcFormat,St.utcParse,St}function Uy(e){return new Date(e)}function Fy(e){return e instanceof Date?+e:+new Date(+e)}function Eo(e,t,n,r,o,a,i,s,c,l){var d=el(),f=d.invert,h=d.domain,p=l(".%L"),g=l(":%S"),m=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),S=l("%b %d"),x=l("%B"),j=l("%Y");function P(b){return(c(b)<b?p:s(b)<b?g:i(b)<b?m:a(b)<b?y:r(b)<b?o(b)<b?v:S:n(b)<b?x:j)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?h(Array.from(b,Fy)):h().map(Uy)},d.ticks=function(b){var _=h();return e(_[0],_[_.length-1],b??10)},d.tickFormat=function(b,_){return _==null?P:l(_)},d.nice=function(b){var _=h();return(!b||typeof b.range!="function")&&(b=t(_[0],_[_.length-1],b??10)),b?h(ol(_,b)):d},d.copy=function(){return ar(d,Eo(e,t,n,r,o,a,i,s,c,l))},d}function ml(){return et.apply(Eo(Dg,Lg,Ke,Oo,sr,wn,_o,Ao,lt,hl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hy(){return et.apply(Eo($g,Rg,Qe,Io,lr,ir,ko,To,lt,pl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vy(){var e=0,t=1,n,r,o,a,i=Ie,s=!1,c;function l(f){return f==null||isNaN(f=+f)?c:i(o===0?.5:(f=(a(f)-n)*o,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),o=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(i=f,l):i};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,i=f(p,g),l):[i(0),i(1)]}}return l.range=d(or),l.rangeRound=d(Js),l.unknown=function(f){return arguments.length?(c=f,l):c},function(f){return a=f,n=f(e),r=f(t),o=n===r?0:1/(r-n),l}}function Wy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gl(){var e=Po(Vy()(Ie));return e.copy=function(){return Wy(e,gl())},km.apply(e,arguments)}function By(e){return e.type==="piecewise"?il(e.thresholds,e.colors):gl([e.min??0,e.max??100],e.color)}function Kn(e){return e.values?Vn(e.values,e.colors).unknown(e.unknownColor??null):Vn(e.colors.map((t,n)=>n),e.colors).unknown(e.unknownColor??null)}function Rn(e){return e.type==="ordinal"?Kn(e):By(e)}const No=w.createContext({zAxis:{},zAxisIds:[]});function Xy(e){const{zAxis:t,dataset:n,children:r}=e,o=w.useMemo(()=>t==null?void 0:t.map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(n===void 0)throw new Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return C({},i,{data:n.map(c=>c[s])})}),[t,n]),a=w.useMemo(()=>{const i=(o==null?void 0:o.map((c,l)=>C({id:`defaultized-z-axis-${l}`},c)))??[],s={};return i.forEach(c=>{s[c.id]=C({},c,{colorScale:c.colorMap&&(c.colorMap.type==="ordinal"&&c.data?Kn(C({values:c.data},c.colorMap)):Rn(c.colorMap.type==="continuous"?C({min:c.min,max:c.max},c.colorMap):c.colorMap))})}),{zAxis:s,zAxisIds:i.map(({id:c})=>c)}},[o]);return u.jsx(No.Provider,{value:a,children:r})}let Ja=0;function Yy(e){const[t,n]=w.useState(e),r=t;return w.useEffect(()=>{t==null&&(Ja+=1,n(`mui-${Ja}`))},[t]),r}const ei=Ul.useId;function qy(e){return ei!==void 0?ei():Yy(e)}const Gy=(e,t,n)=>{const r=C({},sp,n);return w.useMemo(()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}),[e,t,r.top,r.bottom,r.left,r.right])},cr=w.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),yl=w.createContext({isInitialized:!1,data:{current:null}});function Ky(e){const{width:t,height:n,margin:r,svgRef:o,children:a}=e,i=Gy(t,n,r),s=qy(),c=w.useCallback(({x:f,y:h},p)=>{if(p!=null&&p.targetElement&&(p!=null&&p.targetElement.closest("[data-drawing-container]")))return!0;const g=f>=i.left-1&&f<=i.left+i.width,m=h>=i.top-1&&h<=i.top+i.height;return(p==null?void 0:p.direction)==="x"?g:((p==null?void 0:p.direction)==="y"||g)&&m},[i]),l=w.useMemo(()=>C({chartId:s??""},i,{isPointInside:c}),[s,i,c]),d=w.useMemo(()=>({isInitialized:!0,data:o}),[o]);return u.jsx(yl.Provider,{value:d,children:u.jsx(cr.Provider,{value:l,children:a})})}function Ze(){const{left:e,top:t,width:n,height:r,bottom:o,right:a,isPointInside:i}=w.useContext(cr);return w.useMemo(()=>({left:e,top:t,width:n,height:r,bottom:o,right:a,isPointInside:i}),[r,e,t,n,o,a,i])}function ft(e){return e.bandwidth!==void 0}function Qy(e){return e.scaleType==="band"}function Zy(e){return e.scaleType==="point"}function $o(e){return typeof e=="number"&&!Number.isFinite(e)}function Jy(e){const{tickMaxStep:t,tickMinStep:n,tickNumber:r,range:o,domain:a}=e,i=n===void 0?999:Math.floor(Math.abs(a[1]-a[0])/n),s=t===void 0?2:Math.ceil(Math.abs(a[1]-a[0])/t),c=r??Math.floor(Math.abs(o[1]-o[0])/50);return Math.min(i,Math.max(s,c))}const Er={start:0,extremities:0,end:1,middle:.5};function xl(e){const{scale:t,tickNumber:n,valueFormatter:r,tickInterval:o,tickPlacement:a="extremities",tickLabelPlacement:i="middle"}=e;return w.useMemo(()=>{if(ft(t)){const l=t.domain();return t.bandwidth()>0?[...(typeof o=="function"&&l.filter(o)||typeof o=="object"&&o||l).map(h=>({value:h,formattedValue:(r==null?void 0:r(h,{location:"tick"}))??`${h}`,offset:t(h)-(t.step()-t.bandwidth())/2+Er[a]*t.step(),labelOffset:i==="tick"?0:t.step()*(Er[i]-Er[a])})),...a==="extremities"?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:(typeof o=="function"&&l.filter(o)||typeof o=="object"&&o||l).map(f=>({value:f,formattedValue:(r==null?void 0:r(f,{location:"tick"}))??`${f}`,offset:t(f),labelOffset:0}))}return t.domain().some($o)?[]:(typeof o=="object"?o:t.ticks(n)).map(l=>({value:l,formattedValue:(r==null?void 0:r(l,{location:"tick"}))??t.tickFormat(n)(l),offset:t(l),labelOffset:0}))},[t,o,n,r,a,i])}function e0(e,t,n){switch(e){case"log":return al(t,n);case"pow":return jo(t,n);case"sqrt":return Mg(t,n);case"time":return ml(t,n);case"utc":return Hy(t,n);default:return rl(t,n)}}const Nr=(e,t)=>{const n=e[1]-e[0],r=t[1]-t[0],o=e[0]-t[0]*n/r,a=e[1]+(100-t[1])*n/r;return[o,a]},t0=(e,t,n,r,o,a,i)=>{var p;const s=r[t],c=((p=a[t])==null?void 0:p.series)??{},[l,d]=(s==null?void 0:s({series:c,axis:n,axisIndex:o,isDefaultAxis:o===0,getFilters:i}))??[1/0,-1/0],[f,h]=e;return[Math.min(l,f),Math.max(d,h)]},n0=(e,t,n,r,o)=>{const i=Object.keys(t).reduce((s,c)=>t0(s,c,e,t,n,r,o),[1/0,-1/0]);return Number.isNaN(i[0])||Number.isNaN(i[1])?[1/0,-1/0]:i};function r0(e,t,n){if(t==="rotation"){const{startAngle:o=0,endAngle:a=o+360}=n;return n.reverse?[Math.PI*o/180,Math.PI*a/180]:[Math.PI*a/180,Math.PI*o/180]}if(t==="radius"){const{minRadius:o=0,maxRadius:a=Math.min(e.width,e.height)/2}=n;return[o,a]}const r=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return n.reverse?[r[1],r[0]]:r}const ti=e=>(e==null?void 0:e[0])instanceof Date;function ni(e,t){const n=ml(e.data,t);return(r,{location:o})=>o==="tick"?n.tickFormat(e.tickNumber)(r):`${r.toLocaleString()}`}const o0=.2,a0=.1;function ri({drawingArea:e,formattedSeries:t,axis:n,extremumGetters:r,axisDirection:o,zoomData:a,zoomOptions:i,getFilters:s}){const c={};return n.forEach((l,d)=>{const f=l,h=i==null?void 0:i[f.id],p=a==null?void 0:a.find(({axisId:I})=>I===f.id),g=p?[p.start,p.end]:[0,100],m=r0(e,o,f),[y,v]=n0(f,r,d,t,p===void 0&&!h?s:void 0),S=f.data??[];if(Qy(f)){const I=f.categoryGapRatio??o0,D=f.barGapRatio??a0,R=o==="y"?[m[1],m[0]]:m,H=Nr(R,g);if(c[f.id]=C({categoryGapRatio:I,barGapRatio:D},f,{data:S,scale:xo(f.data,H).paddingInner(I).paddingOuter(I/2),tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Kn(C({values:f.data},f.colorMap)):Rn(f.colorMap))}),ti(f.data)){const W=ni(f,R);c[f.id].valueFormatter=f.valueFormatter??W}}if(Zy(f)){const I=o==="y"?[...m].reverse():m,D=Nr(I,g);if(c[f.id]=C({},f,{data:S,scale:Om(f.data,D),tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Kn(C({values:f.data},f.colorMap)):Rn(f.colorMap))}),ti(f.data)){const R=ni(f,I);c[f.id].valueFormatter=f.valueFormatter??R}}if(f.scaleType==="band"||f.scaleType==="point")return;const x=f.scaleType??"linear",j=f.domainLimit??"nice",P=[f.min??y,f.max??v];if(typeof j=="function"){const{min:I,max:D}=j(y,v);P[0]=I,P[1]=D}const b=Jy(C({},f,{range:m,domain:P})),_=b/((g[1]-g[0])/100),T=Nr(m,g),N=e0(x,P,T),O=j==="nice"?N.nice(b):N,[M,E]=O.domain(),A=[f.min??M,f.max??E];c[f.id]=C({},f,{data:S,scaleType:x,scale:O.domain(A),tickNumber:_,colorScale:f.colorMap&&Rn(f.colorMap)})}),{axis:c,axisIds:n.map(({id:l})=>l)}}const bl=w.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function i0(e){const{xAxis:t,yAxis:n,children:r}=e,o=ht(),a=Ze(),i=fm(),s=hm(),c=w.useMemo(()=>ri({drawingArea:a,formattedSeries:o,axis:t,extremumGetters:i,axisDirection:"x"}),[a,o,t,i]),l=w.useMemo(()=>ri({drawingArea:a,formattedSeries:o,axis:n,extremumGetters:s,axisDirection:"y"}),[a,o,n,s]),d=w.useMemo(()=>({isInitialized:!0,data:{xAxis:c.axis,yAxis:l.axis,xAxisIds:c.axisIds,yAxisIds:l.axisIds}}),[c,l]);return u.jsx(bl.Provider,{value:d,children:r})}const tt=()=>{const{data:e}=w.useContext(bl);return e};function oi(e){return ft(e)?t=>(e(t)??0)+e.bandwidth()/2:t=>e(t)}function vl(){const{isInitialized:e,data:t}=w.useContext(yl);if(!e)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function gt(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((a,i)=>{if(i){const s=t(i);s!==""&&a.push(s),n&&n[i]&&a.push(n[i])}return a},[]).join(" ")}),r}const ai=e=>e,s0=()=>{let e=ai;return{configure(t){e=t},generate(t){return e(t)},reset(){e=ai}}},l0=s0(),c0={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function yt(e,t,n="Mui"){const r=c0[t];return r?`${n}-${r}`:`${l0.generate(e)}-${t}`}function zt(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=yt(e,o,n)}),r}function u0(){return typeof window>"u"}const rt={widthCache:{},cacheCount:0},d0=2e3,f0={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h0=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],ii="mui_measurement_span";function wl(e,t){return h0.indexOf(e)>=0&&t===+t?`${t}px`:t}function Sl(e){return e.split("").reduce((r,o)=>o===o.toUpperCase()?[...r,"-",o.toLowerCase()]:[...r,o],[]).join("")}const p0=e=>Object.keys(e).sort().reduce((t,n)=>`${t}${Sl(n)}:${wl(n,e[n])};`,"");let $r;const m0=(e,t={})=>{if(e==null||u0())return{width:0,height:0};const n=`${e}`,r=p0(t),o=`${n}-${r}`;if(rt.widthCache[o])return rt.widthCache[o];try{let a=document.getElementById(ii);a===null&&(a=document.createElement("span"),a.setAttribute("id",ii),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));const i=C({},f0,t);Object.keys(i).map(l=>(a.style[Sl(l)]=wl(l,i[l]),l)),a.textContent=n;const s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return rt.widthCache[o]=c,rt.cacheCount+1>d0?(rt.cacheCount=0,rt.widthCache={}):rt.cacheCount+=1,$r&&clearTimeout($r),$r=setTimeout(()=>{a.textContent=""},0),c}catch{return{width:0,height:0}}};function Ro({style:e,needsComputation:t,text:n}){return n.split(`
`).map(r=>C({text:r},t?m0(r,e):{width:0,height:0}))}const g0=["x","y","style","text","ownerState"],y0=["angle","textAnchor","dominantBaseline"];function un(e){const{x:t,y:n,style:r,text:o}=e,a=ne(e,g0),i=r??{},{angle:s,textAnchor:c,dominantBaseline:l}=i,d=ne(i,y0),f=w.useMemo(()=>Ro({style:d,needsComputation:o.includes(`
`),text:o}),[d,o]);let h;switch(l){case"hanging":h=0;break;case"central":h=(f.length-1)/2*-f[0].height;break;default:h=(f.length-1)*-f[0].height;break}const p=[];return s&&p.push(`rotate(${s}, ${t}, ${n})`),u.jsx("text",C({},a,{transform:p.length>0?p.join(" "):void 0,x:t,y:n,textAnchor:c,dominantBaseline:l,style:d,children:f.map((g,m)=>u.jsx("tspan",{x:t,dy:`${m===0?h:f[0].height}px`,dominantBaseline:l,children:g.text},m))}))}function x0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Cl(...e){return w.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{x0(n,t)})},e)}function b0(e){return typeof e=="string"}function v0(e,t,n){return e===void 0||b0(e)?t:C({},t,{ownerState:C({},t.ownerState,n)})}function w0(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function si(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function S0(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const p=Ye(n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),g=C({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),m=C({},n,o,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const i=w0(C({},o,r)),s=si(r),c=si(o),l=t(i),d=Ye(l==null?void 0:l.className,n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),f=C({},l==null?void 0:l.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),h=C({},l,n,c,s);return d.length>0&&(h.className=d),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:l.ref}}function C0(e,t,n){return typeof e=="function"?e(t,n):e}const P0=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function qe(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,i=ne(e,P0),s=a?{}:C0(r,o),{props:c,internalRef:l}=S0(C({},i,{externalSlotProps:s})),d=Cl(l,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return v0(n,C({},c,{ref:d}),o)}function j0(e){return e&&e.ownerDocument||document}function M0(e){return j0(e).defaultView||window}const eo=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Pl(e){return yt("MuiChartsAxis",e)}const _n=zt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),jl=he("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({[`& .${_n.tickLabel}`]:C({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${_n.label}`]:C({},e.typography.body1,{fill:(e.vars||e).palette.text.primary}),[`& .${_n.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${_n.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}})),li=5;function A0(e,t,n=0){const r=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(r<li)return e;if(r>90-li)return t;const o=r*Math.PI/180,a=Math.atan2(t,e);return o<a?e/Math.cos(o):t/Math.sin(o)}function T0(e=!1){const[t,n]=w.useState(!1);return eo(()=>{e||n(!0)},[e]),w.useEffect(()=>{e&&n(!0)},[e]),t}const _0=["scale","tickNumber","reverse"],k0=e=>{const{classes:t,position:n}=e;return gt({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Pl,t)};function O0(e,{tickLabelStyle:t,tickLabelInterval:n,reverse:r,isMounted:o}){const a=e.map(l=>{if(!o||l.formattedValue===void 0)return C({},l,{width:0,height:0});const d=Ro({style:t,needsComputation:!0,text:l.formattedValue});return C({},l,{width:Math.max(...d.map(f=>f.width)),height:Math.max(d.length*d[0].height)})});if(typeof n=="function")return a.map((l,d)=>C({},l,{skipLabel:!n(l.value,d)}));let i=0,s=0;const c=r?-1:1;return a.map((l,d)=>{const{width:f,offset:h,labelOffset:p,height:g}=l,m=A0(f,g,t==null?void 0:t.angle),y=h+p,v=1.2;return i=y-c*(v*m)/2,d>0&&c*i<c*s?C({},l,{skipLabel:!0}):(s=y+c*(v*m)/2,l)})}const I0=he(jl,{name:"MuiChartsXAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),E0={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function ci(e){const{xAxisIds:t,xAxis:n}=tt(),r=n[e.axisId??t[0]],{scale:o,tickNumber:a,reverse:i}=r,s=ne(r,_0),c=T0(),l=Lt({props:C({},s,e),name:"MuiChartsXAxis"}),d=C({},E0,l),{position:f,disableLine:h,disableTicks:p,tickLabelStyle:g,label:m,labelStyle:y,tickFontSize:v,labelFontSize:S,tickSize:x,valueFormatter:j,slots:P,slotProps:b,tickInterval:_,tickLabelInterval:T,tickPlacement:N,tickLabelPlacement:O,sx:M}=d,E=hn(),A=k0(C({},d,{theme:E})),{left:I,top:D,width:R,height:H,isPointInside:W}=Ze(),F=p?4:x,V=f==="bottom"?1:-1,le=(P==null?void 0:P.axisLine)??"line",q=(P==null?void 0:P.axisTick)??"line",pe=(P==null?void 0:P.axisTickLabel)??un,ue=(P==null?void 0:P.axisLabel)??un,Q=qe({elementType:pe,externalSlotProps:b==null?void 0:b.axisTickLabel,additionalProps:{style:C({textAnchor:"middle",dominantBaseline:f==="bottom"?"hanging":"auto",fontSize:v??12},g)},className:A.tickLabel,ownerState:{}}),we=xl({scale:o,tickNumber:a,valueFormatter:j,tickInterval:_,tickPlacement:N,tickLabelPlacement:O}),ye=O0(we,{tickLabelStyle:Q.style,tickLabelInterval:T,reverse:i,isMounted:c}),Se={x:I+R/2,y:V*(F+22)},$=qe({elementType:ue,externalSlotProps:b==null?void 0:b.axisLabel,additionalProps:{style:C({fontSize:S??14,textAnchor:"middle",dominantBaseline:f==="bottom"?"hanging":"auto"},y)},ownerState:{}}),z=o.domain(),U=ft(o);return U&&z.length===0||!U&&z.some($o)?null:u.jsxs(I0,{transform:`translate(0, ${f==="bottom"?D+H:D})`,className:A.root,sx:M,children:[!h&&u.jsx(le,C({x1:I,x2:I+R,className:A.line},b==null?void 0:b.axisLine)),ye.map(({formattedValue:k,offset:K,labelOffset:B,skipLabel:re},L)=>{const G=B??0,Z=V*(F+3),Oe=W({x:K,y:-1},{direction:"x"}),Cn=W({x:K+G,y:-1},{direction:"x"});return u.jsxs("g",{transform:`translate(${K}, 0)`,className:A.tickContainer,children:[!p&&Oe&&u.jsx(q,C({y2:V*F,className:A.tick},b==null?void 0:b.axisTick)),k!==void 0&&!re&&Cn&&u.jsx(pe,C({x:G,y:Z},Q,{text:k.toString()}))]},L)}),m&&u.jsx("g",{className:A.label,children:u.jsx(ue,C({},Se,$,{text:m}))})]})}const N0=["scale","tickNumber"],$0=e=>{const{classes:t,position:n}=e;return gt({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Pl,t)},R0=he(jl,{name:"MuiChartsYAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),D0={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function ui(e){const{yAxisIds:t,yAxis:n}=tt(),r=n[e.axisId??t[0]],{scale:o,tickNumber:a}=r,i=ne(r,N0),s=Lt({props:C({},i,e),name:"MuiChartsYAxis"}),c=C({},D0,s),{position:l,disableLine:d,disableTicks:f,tickFontSize:h,label:p,labelFontSize:g,labelStyle:m,tickLabelStyle:y,tickSize:v,valueFormatter:S,slots:x,slotProps:j,tickPlacement:P,tickLabelPlacement:b,tickInterval:_,tickLabelInterval:T,sx:N}=c,O=hn(),M=io(),E=$0(C({},c,{theme:O})),{left:A,top:I,width:D,height:R,isPointInside:H}=Ze(),W=f?4:v,F=xl({scale:o,tickNumber:a,valueFormatter:S,tickPlacement:P,tickLabelPlacement:b,tickInterval:_}),V=l==="right"?1:-1,le={x:V*(h+W+10),y:I+R/2},q=(x==null?void 0:x.axisLine)??"line",pe=(x==null?void 0:x.axisTick)??"line",ue=(x==null?void 0:x.axisTickLabel)??un,Q=(x==null?void 0:x.axisLabel)??un,we=!M&&l==="right"||M&&l!=="right",ye=qe({elementType:ue,externalSlotProps:j==null?void 0:j.axisTickLabel,additionalProps:{style:C({fontSize:h,textAnchor:we?"start":"end",dominantBaseline:"central"},y)},className:E.tickLabel,ownerState:{}}),Se=qe({elementType:Q,externalSlotProps:j==null?void 0:j.axisLabel,additionalProps:{style:C({fontSize:g,angle:V*90,textAnchor:"middle",dominantBaseline:"auto"},m)},ownerState:{}}),$=qe({elementType:q,externalSlotProps:j==null?void 0:j.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),z=o.domain(),U=ft(o);return U&&z.length===0||!U&&z.some($o)?null:u.jsxs(R0,{transform:`translate(${l==="right"?A+D:A}, 0)`,className:E.root,sx:N,children:[!d&&u.jsx(q,C({y1:I,y2:I+R,className:E.line},$)),F.map(({formattedValue:k,offset:K,labelOffset:B,value:re},L)=>{const G=V*(W+2),Z=B,Oe=typeof T=="function"&&!(T!=null&&T(re,L));return H({x:-1,y:K},{direction:"y"})?u.jsxs("g",{transform:`translate(0, ${K})`,className:E.tickContainer,children:[!f&&u.jsx(pe,C({x2:V*W,className:E.tick},j==null?void 0:j.axisTick)),k!==void 0&&!Oe&&u.jsx(ue,C({x:G,y:Z,text:k.toString()},ye))]},L):null}),p&&u.jsx("g",{className:E.label,children:u.jsx(Q,C({},le,Se,{text:p}))})]})}const kn=(e,t)=>e==null?null:typeof e=="object"?e.axisId??t??null:e,On=(e,t,n)=>typeof e=="object"?C({},e,{slots:C({},t,e==null?void 0:e.slots),slotProps:C({},n,e==null?void 0:e.slotProps)}):{slots:t,slotProps:n};function L0(e){const{topAxis:t,leftAxis:n,rightAxis:r,bottomAxis:o,slots:a,slotProps:i}=e,{xAxis:s,xAxisIds:c,yAxis:l,yAxisIds:d}=tt(),f=kn(n===void 0?d[0]:n,d[0]),h=kn(o===void 0?c[0]:o,c[0]),p=kn(t,c[0]),g=kn(r,d[0]);if(p!==null&&!s[p])throw new Error([`MUI X: id used for top axis "${p}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(f!==null&&!l[f])throw new Error([`MUI X: id used for left axis "${f}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join(`
`));if(g!==null&&!l[g])throw new Error([`MUI X: id used for right axis "${g}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join(`
`));if(h!==null&&!s[h])throw new Error([`MUI X: id used for bottom axis "${h}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));const m=On(t,a,i),y=On(o,a,i),v=On(n,a,i),S=On(r,a,i);return u.jsxs(w.Fragment,{children:[p&&u.jsx(ci,C({},m,{position:"top",axisId:p})),h&&u.jsx(ci,C({},y,{position:"bottom",axisId:h})),f&&u.jsx(ui,C({},v,{position:"left",axisId:f})),g&&u.jsx(ui,C({},S,{position:"right",axisId:g}))]})}const Sn=w.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),z0=(e,t)=>{switch(t.type){case"enterItem":return C({},e,{item:t.data});case"exitChart":return e.item===null&&e.axis.x===null&&e.axis.y===null?e:C({},e,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return C({},e,{useVoronoiInteraction:t.useVoronoiInteraction});case"leaveItem":return e.item===null||Object.keys(t.data).some(n=>t.data[n]!==e.item[n])?e:C({},e,{item:null});case"updateAxis":return t.data.x===e.axis.x&&t.data.y===e.axis.y?e:C({},e,{axis:t.data});default:return e}};function U0(e){const{children:t}=e,[n,r]=w.useReducer(z0,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),o=w.useMemo(()=>C({},n,{dispatch:r}),[n]);return u.jsx(Sn.Provider,{value:o,children:t})}function F0(e){if(e===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:t,y:n}=e,r={width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t};return{getBoundingClientRect:()=>C({},r,{toJSON:()=>JSON.stringify(r)})}}function H0(){const e=vl(),[t,n]=w.useState(null);return w.useEffect(()=>{const r=e.current;if(r===null)return()=>{};const o=i=>{i.pointerType!=="mouse"&&n(null)},a=i=>{n({x:i.clientX,y:i.clientY,height:i.height,pointerType:i.pointerType})};return r.addEventListener("pointerdown",a),r.addEventListener("pointermove",a),r.addEventListener("pointerup",o),()=>{r.removeEventListener("pointerdown",a),r.removeEventListener("pointermove",a),r.removeEventListener("pointerup",o)}},[e]),t}function V0(e,t){if(e==="item")return t!==null;const n=t.x!==null,r=t.y!==null;return n||r}function W0(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}function B0(e){return yt("MuiChartsTooltip",e)}const di=zt("MuiChartsTooltip",["root","paper","table","row","cell","mark","markCell","labelCell","valueCell"]),Ml=he("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),borderRadius:e.shape.borderRadius})),Al=he("table",{name:"MuiChartsTooltip",slot:"Table",overridesResolver:(e,t)=>t.table})(({theme:e})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`}})),to=he("tr",{name:"MuiChartsTooltip",slot:"Row",overridesResolver:(e,t)=>t.row})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(1)},"tr:last-of-type& td":{paddingBottom:e.spacing(1)}})),ct=he("td",{name:"MuiChartsTooltip",slot:"Cell",overridesResolver:(e,t)=>t.cell})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,[`&.${di.labelCell}`]:{paddingLeft:e.spacing(1)},[`&.${di.valueCell}`]:{paddingLeft:e.spacing(4),color:(e.vars||e).palette.text.primary},"td:first-of-type&":{paddingLeft:e.spacing(2)},"td:last-of-type&":{paddingRight:e.spacing(2)}})),Tl=he("div",{name:"MuiChartsTooltip",slot:"Mark",overridesResolver:(e,t)=>t.mark,shouldForwardProp:e=>Fl(e)&&e!=="color"})(({theme:e,color:t})=>({width:e.spacing(1),height:e.spacing(1),borderRadius:"50%",boxShadow:e.shadows[1],background:t,borderColor:(e.vars||e).palette.background.paper,border:`solid ${(e.vars||e).palette.background.paper} ${e.spacing(.25)}`,boxSizing:"content-box"}));function X0(e){var d;const{series:t,itemData:n,sx:r,classes:o,getColor:a}=e;if(n.dataIndex===void 0||!t.data[n.dataIndex])return null;const{displayedLabel:i,color:s}=t.type==="pie"?{color:a(n.dataIndex),displayedLabel:Le(t.data[n.dataIndex].label,"tooltip")}:{color:a(n.dataIndex),displayedLabel:Le(t.label,"tooltip")},c=t.type==="pie"?C({},t.data[n.dataIndex],{label:Le(t.data[n.dataIndex].label,"tooltip")}):t.data[n.dataIndex],l=(d=t.valueFormatter)==null?void 0:d.call(t,c,{dataIndex:n.dataIndex});return u.jsx(Ml,{sx:r,className:o.paper,children:u.jsx(Al,{className:o.table,children:u.jsx("tbody",{children:u.jsxs(to,{className:o.row,children:[u.jsx(ct,{className:Ye(o.markCell,o.cell),children:u.jsx(Tl,{color:s,className:o.mark})}),u.jsx(ct,{className:Ye(o.labelCell,o.cell),children:i}),u.jsx(ct,{className:Ye(o.valueCell,o.cell),children:l})]})})})})}function Y0(e){var j;const{content:t,itemData:n,sx:r,classes:o,contentProps:a}=e,i=ht()[n.type].series[n.seriesId],{xAxis:s,yAxis:c,xAxisIds:l,yAxisIds:d}=tt(),{zAxis:f,zAxisIds:h}=w.useContext(No),p=Xs(),g=i.xAxisId??i.xAxisKey??l[0],m=i.yAxisId??i.yAxisKey??d[0],y=i.zAxisId??i.zAxisKey??h[0],v=((j=p[i.type])==null?void 0:j.call(p,i,g&&s[g],m&&c[m],y&&f[y]))??(()=>""),S=t??X0,x=qe({elementType:S,externalSlotProps:a,additionalProps:{itemData:n,series:i,sx:r,classes:o,getColor:v},ownerState:{}});return u.jsx(S,C({},x))}let fi;class q0{constructor(){if(this.types=new Set,fi)throw new Error("You can only create one instance!");fi=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}const ur=new q0;ur.addType("bar");ur.addType("line");ur.addType("scatter");function _l(e){return ur.getTypes().has(e)}function G0(e){return _l(e.type)}function K0(e){const{series:t,axis:n,dataIndex:r,axisValue:o,sx:a,classes:i}=e;if(r==null)return null;const s=n.valueFormatter??(c=>n.scaleType==="utc"?W0(c):c.toLocaleString());return u.jsx(Ml,{sx:a,className:i.paper,children:u.jsxs(Al,{className:i.table,children:[o!=null&&!n.hideTooltip&&u.jsx("thead",{children:u.jsx(to,{children:u.jsx(ct,{colSpan:3,children:u.jsx(ve,{children:s(o,{location:"tooltip"})})})})}),u.jsx("tbody",{children:t.filter(G0).map(({id:c,label:l,valueFormatter:d,data:f,getColor:h})=>{const p=d(f[r]??null,{dataIndex:r});if(p==null)return null;const g=Le(l,"tooltip"),m=h(r);return u.jsxs(to,{className:i.row,children:[u.jsx(ct,{className:Ye(i.markCell,i.cell),children:m&&u.jsx(Tl,{color:m,className:i.mark})}),u.jsx(ct,{className:Ye(i.labelCell,i.cell),children:g?u.jsx(ve,{children:g}):null}),u.jsx(ct,{className:Ye(i.valueCell,i.cell),children:u.jsx(ve,{children:p})})]},c)})})]})})}function Q0(e){const{content:t,contentProps:n,axisData:r,sx:o,classes:a}=e,i=r.x&&r.x.index!==-1,s=i?r.x&&r.x.index:r.y&&r.y.index,c=i?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:l,xAxis:d,yAxisIds:f,yAxis:h}=tt(),{zAxisIds:p,zAxis:g}=w.useContext(No),m=ht(),y=Xs(),v=i?l[0]:f[0],S=w.useMemo(()=>{const b=[];return Object.keys(m).filter(_l).forEach(_=>{m[_].seriesOrder.forEach(T=>{var A;const N=m[_].series[T],O=N.xAxisId??N.xAxisKey,M=N.yAxisId??N.yAxisKey,E=i?O:M;if(E===void 0||E===v){const I=m[_].series[T],D=O??l[0],R=M??f[0],H=I.zAxisId??I.zAxisKey??p[0],W=((A=y[_])==null?void 0:A.call(y,I,d[D],h[R],H&&g[H]))??(()=>"");b.push(C({},I,{getColor:W}))}})}),b},[v,y,i,m,d,l,h,f,g,p]),x=w.useMemo(()=>i?d[v]:h[v],[v,i,d,h]),j=t??K0,P=qe({elementType:j,externalSlotProps:n,additionalProps:{axisData:r,series:S,axis:x,dataIndex:s,axisValue:c,sx:o,classes:a},ownerState:{}});return u.jsx(j,C({},P))}const Z0=e=>{const{classes:t}=e;return gt({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},B0,t)},J0=he(Hl,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function ex(e){const t=Lt({props:e,name:"MuiChartsTooltip"}),{trigger:n="axis",itemContent:r,axisContent:o,slots:a,slotProps:i}=t,s=H0(),{item:c,axis:l}=w.useContext(Sn),d=n==="item"?c:l,f=V0(n,d),h=s!==null&&f,p=Z0({classes:t.classes}),g=(a==null?void 0:a.popper)??J0,m=qe({elementType:g,externalSlotProps:i==null?void 0:i.popper,additionalProps:{open:h,placement:(s==null?void 0:s.pointerType)==="mouse"?"right-start":"top",anchorEl:F0(s),modifiers:[{name:"offset",options:{offset:[0,(s==null?void 0:s.pointerType)==="touch"?40-s.height:0]}}]},ownerState:{}});return n==="none"?null:u.jsx(ki,{children:h&&u.jsx(g,C({},m,{className:p.root,children:n==="item"?u.jsx(Y0,{itemData:d,content:(a==null?void 0:a.itemContent)??r,contentProps:i==null?void 0:i.itemContent,sx:{mx:2},classes:p}):u.jsx(Q0,{axisData:d,content:(a==null?void 0:a.axisContent)??o,contentProps:i==null?void 0:i.axisContent,sx:{mx:2},classes:p})}))})}const tx=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=Le(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},nx=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=Le(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},rx=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=Le(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},ox=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>(n[o].data.forEach(a=>{const i=Le(a.label,"legend");i!==void 0&&r.push({id:a.id,seriesId:o,color:a.color,label:i,itemId:a.id})}),r),[])},ax={bar:tx,scatter:nx,line:rx,pie:ox};function ix(e){return Object.keys(e).flatMap(t=>{const n=ax[t];return n===void 0?[]:n(e[t])})}function sx(e){return yt("MuiChartsLegend",e)}zt("MuiChartsLegend",["root","series","itemBackground","mark","label","column","row"]);const lx=["label"];function cx(e,t,n,r,o,a,i){let s=0,c=0,l=0,d=0,f=0;const h=[0];return[e.map(g=>{let{label:m}=g,y=ne(g,lx);const v=t(m,n),S=C({},y,{label:m,positionX:s,positionY:c,innerHeight:v.innerHeight,innerWidth:v.innerWidth,outerHeight:v.outerHeight,outerWidth:v.outerWidth,rowIndex:f});return r==="row"&&(s+v.innerWidth>o&&(s=0,c+=h[f],f+=1,h.length<=f&&h.push(0),S.positionX=s,S.positionY=c,S.rowIndex=f),l=Math.max(l,s+v.outerWidth),d=Math.max(d,c+v.outerHeight),h[f]=Math.max(h[f],v.outerHeight),s+=v.outerWidth),r==="column"&&(c+v.innerHeight>a&&(s=l+i,c=0,f=0,S.positionX=s,S.positionY=c,S.rowIndex=f),h.length<=f&&h.push(0),l=Math.max(l,s+v.outerWidth),d=Math.max(d,c+v.outerHeight),f+=1,c+=v.outerHeight),S}).map(g=>C({},g,{positionY:g.positionY+(r==="row"?h[g.rowIndex]/2:g.outerHeight/2)})),l,d]}function ux(e){const t=io(),{id:n,positionY:r,label:o,positionX:a,innerHeight:i,innerWidth:s,legendWidth:c,color:l,gapX:d,gapY:f,itemMarkHeight:h,itemMarkWidth:p,markGap:g,labelStyle:m,classes:y,onClick:v}=e;return u.jsxs("g",{className:Ye(y==null?void 0:y.series,`${y==null?void 0:y.series}-${n}`),transform:`translate(${d+(t?c-a:a)} ${f+r})`,children:[u.jsx("rect",{x:t?-(s+2):-2,y:-h/2-2,width:s+4,height:i+4,fill:"transparent",className:y==null?void 0:y.itemBackground,onClick:v,style:{pointerEvents:v?"all":"none",cursor:v?"pointer":"unset"}}),u.jsx("rect",{className:y==null?void 0:y.mark,x:t?-p:0,y:-h/2,width:p,height:h,fill:l,style:{pointerEvents:"none"}}),u.jsx(un,{style:C({pointerEvents:"none"},m),text:o,x:(t?-1:1)*(p+g),y:0})]})}const dx=["rotate","dominantBaseline"],fx=he("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(e,t)=>t.root})({}),hx=e=>typeof e=="number"?{left:e,right:e,top:e,bottom:e}:C({left:0,right:0,top:0,bottom:0},e);function px(e){const{position:t,direction:n,itemsToDisplay:r,classes:o,itemMarkWidth:a=20,itemMarkHeight:i=20,markGap:s=5,itemGap:c=10,padding:l=10,labelStyle:d,onItemClick:f}=e,h=hn(),p=Ze(),g=w.useMemo(()=>C({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},d),[d,h]),m=w.useMemo(()=>hx(l),[l]),y=w.useCallback((O,M={})=>{const E=ne(M,dx),A=Ro({style:E,needsComputation:!0,text:O}),I={innerWidth:a+s+Math.max(...A.map(D=>D.width)),innerHeight:Math.max(i,A.length*A[0].height)};return C({},I,{outerWidth:I.innerWidth+c,outerHeight:I.innerHeight+c})},[c,i,a,s]),v=p.left+p.width+p.right,S=p.top+p.height+p.bottom,x=v-m.left-m.right,j=S-m.top-m.bottom,[P,b,_]=w.useMemo(()=>cx(r,y,g,n,x,j,c),[r,y,g,n,x,j,c]),T=w.useMemo(()=>{switch(t.horizontal){case"left":return m.left;case"right":return v-m.right-b;default:return(v-b)/2}},[t.horizontal,m.left,m.right,v,b]),N=w.useMemo(()=>{switch(t.vertical){case"top":return m.top;case"bottom":return S-m.bottom-_;default:return(S-_)/2}},[t.vertical,m.top,m.bottom,S,_]);return u.jsx(ki,{children:u.jsx(fx,{className:o==null?void 0:o.root,children:P.map((O,M)=>w.createElement(ux,C({},O,{key:O.id,gapX:T,gapY:N,legendWidth:b,itemMarkHeight:i,itemMarkWidth:a,markGap:s,labelStyle:g,classes:o,onClick:f?E=>f(E,M):void 0})))})})}const mx=["drawingArea","seriesToDisplay","hidden","onItemClick"],gx=e=>({type:"series",color:e.color,label:e.label,seriesId:e.seriesId,itemId:e.itemId});function yx(e){const{seriesToDisplay:t,hidden:n,onItemClick:r}=e,o=ne(e,mx);return n?null:u.jsx(px,C({},o,{itemsToDisplay:t,onItemClick:r?(a,i)=>r(a,gx(t[i]),i):void 0}))}const xx=["slots","slotProps"],bx=e=>{const{classes:t,direction:n}=e;return gt({root:["root",n],mark:["mark"],label:["label"],series:["series"],itemBackground:["itemBackground"]},sx,t)};function vx(e){const t=Lt({props:e,name:"MuiChartsLegend"}),n=C({direction:"row"},t,{position:C({horizontal:"middle",vertical:"top"},t.position)}),{slots:r,slotProps:o}=n,a=ne(n,xx),i=hn(),s=bx(C({},n,{theme:i})),c=Ze(),l=ht(),d=ix(l),f=(r==null?void 0:r.legend)??yx,h=qe({elementType:f,externalSlotProps:o==null?void 0:o.legend,additionalProps:C({},a,{classes:s,drawingArea:c,series:l,seriesToDisplay:d}),ownerState:{}});return u.jsx(f,C({},h))}const wx=10;function hi(e){const{gradientUnits:t,isReversed:n,gradientId:r,size:o,direction:a,scale:i,colorScale:s,colorMap:c}=e,l=[c.min??0,c.max??100],d=l.map(i).filter(g=>g!==void 0);if(d.length!==2)return null;const f=typeof l[0]=="number"?ln(l[0],l[1]):Zs(l[0],l[1]),h=Math.round((Math.max(...d)-Math.min(...d))/wx),p=`${l[0]}-${l[1]}-`;return u.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${a}${n?1:2}`]:t==="objectBoundingBox"?1:`${o}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:h+1},(g,m)=>{const y=f(m/h);if(y===void 0)return null;const v=i(y);if(v===void 0)return null;const S=n?1-v/o:v/o,x=s(y);return x===null?null:u.jsx("stop",{offset:S,stopColor:x,stopOpacity:1},p+m)})})}function at(e,t){if(typeof e=="number")return e;if(e==="100%")return t;if(e.endsWith("%")){const n=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(n))return n*t/100}if(e.endsWith("px")){const n=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(n))return n}throw new Error(`MUI X: Received an unknown value "${e}". It should be a number, or a string with a percentage value.`)}function Sx(e){return yt("MuiChartsAxisHighlight",e)}zt("MuiChartsAxisHighlight",["root"]);const Cx=()=>gt({root:["root"]},Sx),In=he("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:C({fill:"white",fillOpacity:.1},e.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:C({strokeDasharray:"5 2",stroke:"#ffffff"},e.applyStyles("light",{stroke:"#000000"}))}]}));function Px(e){const{x:t,y:n}=e,{xAxisIds:r,xAxis:o,yAxisIds:a,yAxis:i}=tt(),s=Cx(),c=r[0],l=a[0],d=o[c].scale,f=i[l].scale,{axis:h}=w.useContext(Sn),p=oi(d),g=oi(f),m=h.x,y=h.y,v=t==="band"&&m!==null&&ft(d),S=n==="band"&&y!==null&&ft(f);return u.jsxs(w.Fragment,{children:[v&&d(m.value)!==void 0&&u.jsx(In,{d:`M ${d(m.value)-(d.step()-d.bandwidth())/2} ${f.range()[0]} l ${d.step()} 0 l 0 ${f.range()[1]-f.range()[0]} l ${-d.step()} 0 Z`,className:s.root,ownerState:{axisHighlight:"band"}}),S&&f(y.value)!==void 0&&u.jsx(In,{d:`M ${d.range()[0]} ${f(y.value)-(f.step()-f.bandwidth())/2} l 0 ${f.step()} l ${d.range()[1]-d.range()[0]} 0 l 0 ${-f.step()} Z`,className:s.root,ownerState:{axisHighlight:"band"}}),t==="line"&&h.x!==null&&u.jsx(In,{d:`M ${p(h.x.value)} ${f.range()[0]} L ${p(h.x.value)} ${f.range()[1]}`,className:s.root,ownerState:{axisHighlight:"line"}}),n==="line"&&h.y!==null&&u.jsx(In,{d:`M ${d.range()[0]} ${g(h.y.value)} L ${d.range()[1]} ${g(h.y.value)}`,className:s.root,ownerState:{axisHighlight:"line"}})]})}function jx(e,t){const n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n.matrixTransform(e.getScreenCTM().inverse())}const Mx=e=>{const{dispatch:t}=w.useContext(Sn),{setHighlighted:n,clearHighlighted:r}=go();return a=>({onPointerEnter:()=>{t({type:"enterItem",data:a}),n({seriesId:a.seriesId,dataIndex:a.dataIndex})},onPointerLeave:l=>{l.currentTarget.hasPointerCapture(l.pointerId)&&l.currentTarget.releasePointerCapture(l.pointerId),t({type:"leaveItem",data:a}),r()},onPointerDown:l=>{l.currentTarget.hasPointerCapture(l.pointerId)&&l.currentTarget.releasePointerCapture(l.pointerId)}})},kl=w.createContext({isInitialized:!1,data:{skipAnimation:void 0}});function Ax(e){const{children:t,skipAnimation:n}=e,r=typeof window>"u"||!(window!=null&&window.matchMedia),[o,a]=w.useState(r||void 0);hc(()=>{var l;if(r)return;const s=d=>{const f=d.matches||void 0;a(f),pc.assign({skipAnimation:f})},c=window.matchMedia("(prefers-reduced-motion)");return s(c),(l=c==null?void 0:c.addEventListener)==null||l.call(c,"change",s),()=>{var d;(d=c==null?void 0:c.removeEventListener)==null||d.call(c,"change",s)}},[]);const i=w.useMemo(()=>({isInitialized:!0,data:{skipAnimation:n||o}}),[o,n]);return u.jsx(kl.Provider,{value:i,children:t})}function Tx(e){const{isInitialized:t,data:n}=w.useContext(kl);if(!t)throw new Error(["MUI X: Could not find the animation ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e||n.skipAnimation}function Ct(e){return e instanceof Date?e.getTime():e}const _x=e=>{const t=vl(),n=Ze(),{xAxis:r,yAxis:o,xAxisIds:a,yAxisIds:i}=tt(),{dispatch:s}=w.useContext(Sn),c=a[0],l=i[0],d=w.useRef({isInChart:!1,x:-1,y:-1});w.useEffect(()=>{const f=t.current;if(f===null||e)return()=>{};function h(y,v){const{scale:S,data:x,reverse:j}=y;if(!ft(S)){const b=S.invert(v);if(x===void 0)return{value:b,index:-1};const _=Ct(b),T=x==null?void 0:x.findIndex((N,O)=>{const M=Ct(N);return M>_&&(O===0||Math.abs(_-M)<=Math.abs(_-Ct(x[O-1])))||M<=_&&(O===x.length-1||Math.abs(Ct(b)-M)<Math.abs(Ct(b)-Ct(x[O+1])))});return{value:T!==void 0&&T>=0?x[T]:b,index:T}}const P=S.bandwidth()===0?Math.floor((v-Math.min(...S.range())+S.step()/2)/S.step()):Math.floor((v-Math.min(...S.range()))/S.step());if(P<0||P>=x.length)return null;if(j){const b=x.length-1-P;return{index:b,value:x[b]}}return{index:P,value:x[P]}}const p=()=>{d.current={isInChart:!1,x:-1,y:-1},s({type:"exitChart"})},g=y=>{const v="targetTouches"in y?y.targetTouches[0]:y,S=jx(f,v);if(d.current.x=S.x,d.current.y=S.y,!n.isPointInside(S,{targetElement:y.target})){d.current.isInChart&&(s({type:"exitChart"}),d.current.isInChart=!1);return}d.current.isInChart=!0;const x=h(r[c],S.x),j=h(o[l],S.y);s({type:"updateAxis",data:{x,y:j}})},m=y=>{const v=y.currentTarget;v&&v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId)};return f.addEventListener("pointerdown",m),f.addEventListener("pointermove",g),f.addEventListener("pointerout",p),f.addEventListener("pointercancel",p),f.addEventListener("pointerleave",p),()=>{f.removeEventListener("pointerdown",m),f.removeEventListener("pointermove",g),f.removeEventListener("pointerout",p),f.removeEventListener("pointercancel",p),f.removeEventListener("pointerleave",p)}},[t,s,l,o,c,r,e,n])},kx=["children","width","height","viewBox","disableAxisListener","className","title","desc"],Ox=he("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),Ix=w.forwardRef(function(t,n){const r=Lt({props:t,name:"MuiChartsSurface"}),{children:o,width:a,height:i,viewBox:s,disableAxisListener:c=!1,className:l,title:d,desc:f}=r,h=ne(r,kx),p=C({width:a,height:i,x:0,y:0},s);return _x(c),u.jsxs(Ox,C({width:a,height:i,viewBox:`${p.x} ${p.y} ${p.width} ${p.height}`,ref:n,className:l},h,{children:[u.jsx("title",{children:d}),u.jsx("desc",{children:f}),o]}))});function pi(e){const{isReversed:t,gradientId:n,size:r,direction:o,scale:a,colorMap:i}=e;return r<=0?null:u.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${o}${t?1:2}`]:`${r}px`,gradientUnits:"userSpaceOnUse",children:i.thresholds.map((s,c)=>{const l=a(s);if(l===void 0)return null;const d=t?1-l/r:l/r;return u.jsxs(w.Fragment,{children:[u.jsx("stop",{offset:d,stopColor:i.colors[c],stopOpacity:1}),u.jsx("stop",{offset:d,stopColor:i.colors[c+1],stopOpacity:1})]},s.toString()+c)})})}function Ex(){const{chartId:e}=w.useContext(cr);return w.useCallback((t,n)=>`${e}-gradient-${n}-${t}`,[e])}function Nx(){const{top:e,height:t,bottom:n,left:r,width:o,right:a}=Ze(),i=e+t+n,s=r+o+a,c=Ex(),{xAxisIds:l,xAxis:d,yAxisIds:f,yAxis:h}=tt();return u.jsxs("defs",{children:[f.filter(p=>h[p].colorMap!==void 0).map(p=>{const g=c(p,"y"),{colorMap:m,scale:y,colorScale:v,reverse:S}=h[p];return(m==null?void 0:m.type)==="piecewise"?u.jsx(pi,{isReversed:!S,scale:y,colorMap:m,size:i,gradientId:g,direction:"y"},g):(m==null?void 0:m.type)==="continuous"?u.jsx(hi,{isReversed:!S,scale:y,colorScale:v,colorMap:m,size:i,gradientId:g,direction:"y"},g):null}),l.filter(p=>d[p].colorMap!==void 0).map(p=>{const g=c(p,"x"),{colorMap:m,scale:y,reverse:v,colorScale:S}=d[p];return(m==null?void 0:m.type)==="piecewise"?u.jsx(pi,{isReversed:v,scale:y,colorMap:m,size:s,gradientId:g,direction:"x"},g):(m==null?void 0:m.type)==="continuous"?u.jsx(hi,{isReversed:v,scale:y,colorScale:S,colorMap:m,size:s,gradientId:g,direction:"x"},g):null})]})}const mi=(e,t,n)=>{const r=n==="x"?Is:ip;return[...(e==null?void 0:e.map((o,a)=>C({id:`defaultized-${n}-axis-${a}`},o)))??[],...e===void 0||e.findIndex(({id:o})=>o===r)===-1?[{id:r,scaleType:"linear"}]:[]].map(o=>{const a=o.dataKey;if(a===void 0||o.data!==void 0)return o;if(t===void 0)throw new Error(`MUI X: ${n}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return C({},o,{data:t.map(i=>i[a])})})},$x=(e,t,n)=>{const r=w.useMemo(()=>mi(e,n,"x"),[e,n]),o=w.useMemo(()=>mi(t,n,"y"),[t,n]);return[r,o]},Rx=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children","skipAnimation"],Dx=(e,t)=>{const{width:n,height:r,series:o,margin:a,xAxis:i,yAxis:s,zAxis:c,colors:l,dataset:d,sx:f,title:h,desc:p,disableAxisListener:g,highlightedItem:m,onHighlightChange:y,plugins:v,children:S,skipAnimation:x}=e,j=ne(e,Rx),P=w.useRef(null),b=Cl(t,P),[_,T]=$x(i,s,d),N={width:n,height:r,margin:a,svgRef:P},O={skipAnimation:x},M={plugins:v},E={series:o,colors:l,dataset:d},A={xAxis:_,yAxis:T,dataset:d},I={zAxis:c,dataset:d},D={highlightedItem:m,onHighlightChange:y},R=C({},j,{width:n,height:r,ref:b,sx:f,title:h,desc:p,disableAxisListener:g});return{children:S,drawingProviderProps:N,seriesProviderProps:E,cartesianProviderProps:A,zAxisContextProps:I,highlightedProviderProps:D,chartsSurfaceProps:R,pluginProviderProps:M,animationProviderProps:O,xAxis:_,yAxis:T}},Lx=w.forwardRef(function(t,n){const{children:r,drawingProviderProps:o,seriesProviderProps:a,cartesianProviderProps:i,zAxisContextProps:s,highlightedProviderProps:c,chartsSurfaceProps:l,pluginProviderProps:d,animationProviderProps:f}=Dx(t,n);return u.jsx(Ky,C({},o,{children:u.jsx(um,C({},d,{children:u.jsx(pm,C({},a,{children:u.jsx(i0,C({},i,{children:u.jsx(Xy,C({},s,{children:u.jsx(U0,{children:u.jsx(xm,C({},c,{children:u.jsxs(Ix,C({},l,{children:[u.jsx(Nx,{}),u.jsx(Ax,C({},f,{children:r}))]}))}))})}))}))}))}))}))}),zx=he("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:e})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),Ux=(e,t,n)=>{const r=w.useRef({displayError:!1,initialCompute:!0,computeRun:0}),o=w.useRef(null),[a,i]=w.useState(0),[s,c]=w.useState(0),l=w.useCallback(()=>{const d=o==null?void 0:o.current;if(!d)return{};const h=M0(d).getComputedStyle(d),p=Math.floor(parseFloat(h.height))||0,g=Math.floor(parseFloat(h.width))||0;return i(g),c(p),{width:g,height:p}},[]);return w.useEffect(()=>{r.current.displayError=!0},[]),eo(()=>{if(!n||!r.current.initialCompute||r.current.computeRun>20)return;const d=l();d.width!==a||d.height!==s?r.current.computeRun+=1:r.current.initialCompute&&(r.current.initialCompute=!1)},[a,s,l,n]),eo(()=>{if(e!==void 0&&t!==void 0)return()=>{};l();const d=o.current;if(typeof ResizeObserver>"u")return()=>{};let f;const h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{l()})});return d&&h.observe(d),()=>{f&&cancelAnimationFrame(f),d&&h.unobserve(d)}},[l,t,e]),{containerRef:o,width:e??a,height:t??s}},Fx=["width","height","resolveSizeBeforeRender","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis","skipAnimation"],Hx=(e,t)=>{const{width:n,height:r,resolveSizeBeforeRender:o,margin:a,children:i,series:s,colors:c,dataset:l,desc:d,disableAxisListener:f,highlightedItem:h,onHighlightChange:p,plugins:g,sx:m,title:y,viewBox:v,xAxis:S,yAxis:x,zAxis:j,skipAnimation:P}=e,b=ne(e,Fx),{containerRef:_,width:T,height:N}=Ux(n,r,o),O=C({},b,{ownerState:{width:n,height:r},ref:_});return{hasIntrinsicSize:T&&N,chartContainerProps:{margin:a,children:i,series:s,colors:c,dataset:l,desc:d,disableAxisListener:f,highlightedItem:h,onHighlightChange:p,plugins:g,sx:m,title:y,viewBox:v,xAxis:S,yAxis:x,zAxis:j,skipAnimation:P,width:T,height:N,ref:t},resizableChartContainerProps:O}},Vx=w.forwardRef(function(t,n){const{hasIntrinsicSize:r,chartContainerProps:o,resizableChartContainerProps:a}=Hx(t,n);return u.jsx(zx,C({},a,{children:r?u.jsx(Lx,C({},o)):null}))}),Wx=["message"],Bx=he("text")(({theme:e})=>C({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Xx(e){const{message:t}=e,n=ne(e,Wx),{top:r,left:o,height:a,width:i}=Ze();return u.jsx(Bx,C({x:o+i/2,y:r+a/2},n,{children:t??"Loading data…"}))}const Yx=["message"],qx=he("text")(({theme:e})=>C({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Gx(e){const{message:t}=e,n=ne(e,Yx),{top:r,left:o,height:a,width:i}=Ze();return u.jsx(qx,C({x:o+i/2,y:r+a/2},n,{children:t??"No data to display"}))}function Kx(){const e=ht();return Object.values(e).every(t=>{if(!t)return!0;const{series:n,seriesOrder:r}=t;return r.every(o=>n[o].data.length===0)})}function Qx(e){var n,r,o,a;const t=Kx();if(e.loading){const i=((n=e.slots)==null?void 0:n.loadingOverlay)??Xx;return u.jsx(i,C({},(r=e.slotProps)==null?void 0:r.loadingOverlay))}if(t){const i=((o=e.slots)==null?void 0:o.noDataOverlay)??Gx;return u.jsx(i,C({},(a=e.slotProps)==null?void 0:a.noDataOverlay))}return null}const Zx=["classes","color","cornerRadius","dataIndex","endAngle","id","innerRadius","isFaded","isHighlighted","onClick","outerRadius","paddingAngle","startAngle","highlightScope"];function Jx(e){return yt("MuiPieArc",e)}zt("MuiPieArc",["root","highlighted","faded"]);const eb=e=>{const{classes:t,id:n,isFaded:r,isHighlighted:o,dataIndex:a}=e,i={root:["root",`series-${n}`,`data-index-${a}`,o&&"highlighted",r&&"faded"]};return gt(i,Jx,t)},tb=he(Ti.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(e,t)=>t.arc})(({theme:e})=>({stroke:(e.vars||e).palette.background.paper,transition:"opacity 0.2s ease-in, fill 0.2s ease-in, filter 0.2s ease-in"}));function nb(e){const{classes:t,color:n,cornerRadius:r,dataIndex:o,endAngle:a,id:i,innerRadius:s,isFaded:c,isHighlighted:l,onClick:d,outerRadius:f,paddingAngle:h,startAngle:p}=e,g=ne(e,Zx),m={id:i,dataIndex:o,classes:t,color:n,isFaded:c,isHighlighted:l},y=eb(m),v=Mx();return u.jsx(tb,C({d:Ln([p,a,h,s,f,r],(S,x,j,P,b,_)=>Ls().cornerRadius(_)({padAngle:j,startAngle:S,endAngle:x,innerRadius:P,outerRadius:b})),visibility:Ln([p,a],(S,x)=>S===x?"hidden":"visible"),onClick:d,cursor:d?"pointer":"unset",ownerState:m,className:y.root,fill:m.color,opacity:m.isFaded?.3:1,filter:m.isHighlighted?"brightness(120%)":"none",strokeWidth:1,strokeLinejoin:"round"},g,v({type:"pie",seriesId:i,dataIndex:o})))}const rb={keys:e=>e.id,from:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,color:i,isFaded:s})=>({innerRadius:e,outerRadius:(e+t)/2,cornerRadius:n,startAngle:(r+o)/2,endAngle:(r+o)/2,paddingAngle:a,fill:i,opacity:s?.3:1}),leave:({innerRadius:e,startAngle:t,endAngle:n})=>({innerRadius:e,outerRadius:e,startAngle:(t+n)/2,endAngle:(t+n)/2}),enter:({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r})=>({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r}),update:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,color:i,isFaded:s})=>({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,fill:i,opacity:s?.3:1}),config:{tension:120,friction:14,clamp:!0}},ob={keys:e=>e.id,from:({innerRadius:e,outerRadius:t,arcLabelRadius:n,cornerRadius:r,startAngle:o,endAngle:a,paddingAngle:i})=>({innerRadius:e,outerRadius:(e+t)/2,cornerRadius:r,arcLabelRadius:n,startAngle:(o+a)/2,endAngle:(o+a)/2,paddingAngle:i,opacity:0}),leave:({innerRadius:e,startAngle:t,endAngle:n})=>({innerRadius:e,outerRadius:e,arcLabelRadius:e,startAngle:(t+n)/2,endAngle:(t+n)/2,opacity:0}),enter:({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r,arcLabelRadius:o})=>({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r,arcLabelRadius:o,opacity:1}),update:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,arcLabelRadius:i})=>({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,arcLabelRadius:i,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function Ol(e){const{id:t,data:n,faded:r,highlighted:o,paddingAngle:a=0,innerRadius:i=0,arcLabelRadius:s,outerRadius:c,cornerRadius:l=0}=e,{isFaded:d,isHighlighted:f}=go();return w.useMemo(()=>n.map((p,g)=>{const m={seriesId:t,dataIndex:g},y=f(m),v=!y&&d(m),S=C({additionalRadius:0},v&&r||y&&o||{}),x=Math.max(0,Math.PI*(S.paddingAngle??a)/180),j=Math.max(0,S.innerRadius??i),P=Math.max(0,S.outerRadius??c+S.additionalRadius),b=S.cornerRadius??l,_=S.arcLabelRadius??s??(j+P)/2;return C({},p,S,{isFaded:v,isHighlighted:y,paddingAngle:x,innerRadius:j,outerRadius:P,cornerRadius:b,arcLabelRadius:_})}),[l,i,c,a,s,n,r,o,d,f,t])}const ab=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlighted","faded","data","onItemClick","skipAnimation"];function ib(e){const{slots:t,slotProps:n,innerRadius:r=0,outerRadius:o,cornerRadius:a=0,paddingAngle:i=0,id:s,highlighted:c,faded:l={additionalRadius:-5},data:d,onItemClick:f,skipAnimation:h}=e,p=ne(e,ab),g=Ol({innerRadius:r,outerRadius:o,cornerRadius:a,paddingAngle:i,id:s,highlighted:c,faded:l,data:d}),m=_i(g,C({},rb,{immediate:h})),{highlightScope:y}=go();if(d.length===0)return null;const v=(t==null?void 0:t.pieArc)??nb;return u.jsx("g",C({},p,{children:m(({startAngle:S,endAngle:x,paddingAngle:j,innerRadius:P,outerRadius:b,cornerRadius:_},T,N,O)=>u.jsx(v,C({startAngle:S,endAngle:x,paddingAngle:j,innerRadius:P,outerRadius:b,cornerRadius:_,id:s,color:T.color,dataIndex:O,highlightScope:y,isFaded:T.isFaded,isHighlighted:T.isHighlighted,onClick:f&&(M=>{f(M,{type:"pie",seriesId:s,dataIndex:O},T)})},n==null?void 0:n.pieArc)))}))}const sb=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function lb(e){return yt("MuiPieArcLabel",e)}zt("MuiPieArcLabel",["root","highlighted","faded"]);const cb=e=>{const{classes:t,id:n,isFaded:r,isHighlighted:o}=e,a={root:["root",`series-${n}`,o&&"highlighted",r&&"faded"]};return gt(a,lb,t)},ub=he(Ti.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fill:(e.vars||e).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle",pointerEvents:"none"})),gi=(e,t)=>(n,r,o,a,i)=>{if(!e)return 0;const[s,c]=Ls().cornerRadius(i).centroid({padAngle:o,startAngle:n,endAngle:r,innerRadius:a,outerRadius:a});return t==="x"?s:c};function db(e){const{id:t,classes:n,color:r,startAngle:o,endAngle:a,paddingAngle:i,arcLabelRadius:s,cornerRadius:c,formattedArcLabel:l,isHighlighted:d,isFaded:f,style:h}=e,p=ne(e,sb),m=cb({id:t,classes:n,color:r,isFaded:f,isHighlighted:d});return u.jsx(ub,C({className:m.root},p,{style:C({x:Ln([o,a,i,s,c],gi(l,"x")),y:Ln([o,a,i,s,c],gi(l,"y"))},h),children:l}))}const fb=["arcLabel","arcLabelMinAngle","arcLabelRadius","cornerRadius","data","faded","highlighted","id","innerRadius","outerRadius","paddingAngle","skipAnimation","slotProps","slots"],hb=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],pb=180/Math.PI;function mb(e,t,n){var o;if(!e||(n.endAngle-n.startAngle)*pb<t)return null;switch(e){case"label":return Le(n.label,"arc");case"value":return(o=n.value)==null?void 0:o.toString();case"formattedValue":return n.formattedValue;default:return e(C({},n,{label:Le(n.label,"arc")}))}}function gb(e){const{arcLabel:t,arcLabelMinAngle:n=0,arcLabelRadius:r,cornerRadius:o=0,data:a,faded:i={additionalRadius:-5},highlighted:s,id:c,innerRadius:l,outerRadius:d,paddingAngle:f=0,skipAnimation:h,slotProps:p,slots:g}=e,m=ne(e,fb),y=Ol({innerRadius:l,outerRadius:d,arcLabelRadius:r,cornerRadius:o,paddingAngle:f,id:c,highlighted:s,faded:i,data:a}),v=_i(y,C({},ob,{immediate:h}));if(a.length===0)return null;const S=(g==null?void 0:g.pieArcLabel)??db;return u.jsx("g",C({},m,{children:v((x,j)=>{let{startAngle:P,endAngle:b,paddingAngle:_,innerRadius:T,outerRadius:N,arcLabelRadius:O,cornerRadius:M}=x,E=ne(x,hb);return u.jsx(S,C({startAngle:P,endAngle:b,paddingAngle:_,innerRadius:T,outerRadius:N,arcLabelRadius:O,cornerRadius:M,style:E,id:c,color:j.color,isFaded:j.isFaded,isHighlighted:j.isHighlighted,formattedArcLabel:mb(t,n,j)},p==null?void 0:p.pieArcLabel))})}))}function yi(e,t){const{height:n,width:r}=t,{cx:o,cy:a}=e,i=Math.min(r,n)/2,s=at(o??"50%",r),c=at(a??"50%",n);return{cx:s,cy:c,availableRadius:i}}function yb(e){const{skipAnimation:t,slots:n,slotProps:r,onItemClick:o}=e,a=mm(),{left:i,top:s,width:c,height:l}=w.useContext(cr),d=Tx(t);if(a===void 0)return null;const{series:f,seriesOrder:h}=a;return u.jsxs("g",{children:[h.map(p=>{const{innerRadius:g,outerRadius:m,cornerRadius:y,paddingAngle:v,data:S,cx:x,cy:j,highlighted:P,faded:b}=f[p],{cx:_,cy:T,availableRadius:N}=yi({cx:x,cy:j},{width:c,height:l}),O=at(m??N,N),M=at(g??0,N);return u.jsx("g",{transform:`translate(${i+_}, ${s+T})`,children:u.jsx(ib,{innerRadius:M,outerRadius:O,cornerRadius:y,paddingAngle:v,id:p,data:S,skipAnimation:d,highlighted:P,faded:b,onItemClick:o,slots:n,slotProps:r})},p)}),h.map(p=>{const{innerRadius:g,outerRadius:m,arcLabelRadius:y,cornerRadius:v,paddingAngle:S,arcLabel:x,arcLabelMinAngle:j,data:P,cx:b,cy:_}=f[p],{cx:T,cy:N,availableRadius:O}=yi({cx:b,cy:_},{width:c,height:l}),M=at(m??O,O),E=at(g??0,O),A=y===void 0?(M+E)/2:at(y,O);return u.jsx("g",{transform:`translate(${i+T}, ${s+N})`,children:u.jsx(gb,{innerRadius:E,outerRadius:M??O,arcLabelRadius:A,cornerRadius:v,paddingAngle:S,id:p,data:P,skipAnimation:d,arcLabel:x,arcLabelMinAngle:j,slots:n,slotProps:r})},p)})]})}const xb=["xAxis","yAxis","series","width","height","margin","colors","sx","tooltip","axisHighlight","skipAnimation","legend","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","onItemClick","loading","highlightedItem","onHighlightChange","className"],bb={top:5,bottom:5,left:5,right:100},vb={top:5,bottom:5,left:100,right:5},wb=w.forwardRef(function(t,n){const r=Lt({props:t,name:"MuiPieChart"}),{xAxis:o,yAxis:a,series:i,width:s,height:c,margin:l,colors:d,sx:f,tooltip:h={trigger:"item"},axisHighlight:p={x:"none",y:"none"},skipAnimation:g,legend:m,topAxis:y=null,leftAxis:v=null,rightAxis:S=null,bottomAxis:x=null,children:j,slots:P,slotProps:b,onItemClick:_,loading:T,highlightedItem:N,onHighlightChange:O,className:M}=r,E=ne(r,xb),A=io(),I=C({},A?vb:bb,l),D=C({direction:"column",position:{vertical:"middle",horizontal:A?"left":"right"}},m);return u.jsxs(Vx,C({},E,{ref:n,series:i.map(R=>C({type:"pie"},R)),width:s,height:c,margin:I,xAxis:o??[{id:Is,scaleType:"point",data:[...new Array(Math.max(0,...i.map(R=>R.data.length)))].map((R,H)=>H)}],yAxis:a,colors:d,sx:f,disableAxisListener:(h==null?void 0:h.trigger)!=="axis"&&(p==null?void 0:p.x)==="none"&&(p==null?void 0:p.y)==="none",highlightedItem:N,onHighlightChange:O,className:M,skipAnimation:g,children:[u.jsx(L0,{topAxis:y,leftAxis:v,rightAxis:S,bottomAxis:x,slots:P,slotProps:b}),u.jsx(yb,{slots:P,slotProps:b,onItemClick:_}),u.jsx(Qx,{loading:T,slots:P,slotProps:b}),u.jsx(vx,C({},D,{slots:P,slotProps:b})),u.jsx(Px,C({},p)),!T&&u.jsx(ex,C({},h,{slots:P,slotProps:b})),j]}))}),Il=({courseId:e})=>{const[t,n]=w.useState([]),[r,o]=w.useState(null),[a,i]=w.useState({labels:[],series:[]}),[s,c]=w.useState(!1),[l,d]=w.useState(!1),[f,h]=w.useState([]),[p,g]=w.useState(!1),[m,y]=w.useState(""),[v,S]=w.useState([]),x=()=>{var O;h(v),g(r.startsWith("quiz")),y(((O=t.find(M=>`${M.type}-${M.id}`===r))==null?void 0:O.title)||""),d(!0)},j=()=>d(!1);w.useEffect(()=>{e&&(async()=>{c(!0);const M=[],E=await P(e);for(const A of E){const I=await b(A.id);M.push(...I.map(R=>({...R,type:"assignment"})));const D=await _(A.id);M.push(...D.map(R=>({...R,type:"quiz"})))}n(M),M.length>0&&o(`${M[0].type}-${M[0].id}`),c(!1)})()},[e]);const P=async O=>{try{return await Ai.getModulesByCourseId(O)}catch(M){return console.error(M),[]}},b=async O=>{try{return await Tt.getAssignmentsByModuleId(O)}catch(M){return console.error(M),[]}},_=async O=>{try{return await Tt.getQuizzesByModuleId(O)}catch(M){return console.error(M),[]}},T=async O=>{if(!O)return[];const[M,E]=O.split("-");try{if(M==="assignment")return await Tt.getAssignmentSubmissions(Number(E));if(M==="quiz")return await Tt.getQuizSubmissions(Number(E))}catch(A){return console.error(A),[]}return[]};w.useEffect(()=>{r&&(async()=>{c(!0);const M=await T(r);console.log("🚀 ~ fetchData ~ submissions:",M);const E=M.filter(R=>r.startsWith("quiz")?R.quizSubmission&&R.quizSubmission.score!==null&&R.quizSubmission.score!==void 0:R.score!==null&&R.score!==void 0);S(E);const A=E.reduce((R,H)=>{let W=r.startsWith("quiz")?H.quizSubmission.score:H.score;const F=r.startsWith("quiz")?Math.round(W/10*10)/10:Math.round(W*10)/10;return R[F]=(R[F]||0)+1,R},{}),I=Object.keys(A).sort((R,H)=>R-H),D=I.map(R=>A[R]);i({labels:I,series:[{data:D}]}),c(!1)})()},[r]);const N=O=>{o(O.target.value)};return u.jsxs("div",{className:"p-4 w-full",children:[u.jsxs(Vl,{fullWidth:!0,size:"small",sx:{mb:3},children:[u.jsx(Si,{id:"assignmentSelect-label",children:"Chọn bài tập/quiz"}),u.jsxs(Fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[u.jsx(Wl,{labelId:"assignmentSelect-label",id:"assignmentSelect",value:r||"",label:"Chọn bài tập/quiz",onChange:N,sx:{minWidth:180,maxWidth:320},children:t.map(O=>u.jsxs(fc,{value:`${O.type}-${O.id}`,children:[O.type==="assignment"?"Bài tập: ":"Quiz: ",O.title]},`${O.type}-${O.id}`))}),u.jsx(qt,{variant:"outlined",color:"primary",onClick:x,sx:{whiteSpace:"nowrap",ml:2},children:"Xem danh sách điểm & Xuất Excel"})]})]}),s?u.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:300},children:u.jsx(fn,{})}):t.length>0?u.jsx(u.Fragment,{children:a.labels.length>0?u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("div",{className:"text-lg font-bold text-slate-700 mb-4 mr-20 text-center",children:"Thống kê điểm số"}),u.jsx("div",{className:"flex justify-center",children:u.jsx(wb,{series:[{data:a.labels.map((O,M)=>({id:O,value:a.series[0].data[M],label:`Điểm ${O} (${a.series[0].data[M]})`})),innerRadius:20,outerRadius:150,paddingAngle:1}],width:500,height:300})})]}):u.jsx("p",{className:"text-slate-600 text-center",children:"Chưa có học sinh nào nộp ở mục này"})}):u.jsx("p",{className:"text-slate-500 text-center",children:"Chưa có bài tập hoặc quiz nào trong khóa học này."}),u.jsx(Bl,{open:l,onClose:j,submissions:f,isQuiz:p,title:m})]})};Il.propTypes={courseId:te.number.isRequired};function Sb(){const[e,t]=w.useState({}),{courseId:n}=Qn(),[r,o]=w.useState([]),[a,i]=w.useState({}),[s,c]=w.useState({});w.useEffect(()=>{(async()=>{const f=await Ai.getModulesByCourseId(n);if(f){const h=f;o(h);const p=h.map(async x=>{const j=await Tt.getAllAssignmentsByModuleId(x.id);if(j.length>0){const P=j.map(async _=>{const T=await ae.get(`/assignment-submissions/${_.id}/logged-in`);if(T.status===200){const N=T.data.data;return{assignment:_,submission:N}}return{assignment:_,submission:null}}),b=await Promise.all(P);return{moduleId:x.id,assignmentsWithSubmissions:b}}return{moduleId:x.id,assignmentsWithSubmissions:[]}}),g=h.map(async x=>{const j=await Tt.getQuizzesByModuleId(x.id);if(j.length>0){const P=j.map(async _=>{const T=await ae.get(`/quiz-submissions/student/quiz/${_.id}`);if(T.status===200){const N=T.data.data;return{quiz:_,submission:N}}return{quiz:_,submission:null}}),b=await Promise.all(P);return{moduleId:x.id,quizzesWithSubmissions:b}}return{moduleId:x.id,quizzesWithSubmissions:[]}}),m=await Promise.all(p),y={};m.forEach(({moduleId:x,assignmentsWithSubmissions:j})=>{y[x]=j}),i(y);const v=await Promise.all(g),S={};v.forEach(({moduleId:x,quizzesWithSubmissions:j})=>{S[x]=j}),c(S)}})()},[n]);const l=d=>{t(f=>({...f,[d]:!f[d]}))};return u.jsx("div",{className:"max-w-full overflow-x-auto",children:u.jsxs("div",{className:"min-w-[800px]",children:[u.jsxs("div",{className:"flex bg-slate-100  font-semibold text-slate-600 rounded-lg mb-3 px-4 ",children:[u.jsx("div",{className:"flex-1 p-2 text-left",children:"Mục điểm"}),u.jsx("div",{className:"w-40 p-2 text-center",children:"Điểm"})]}),r.map(d=>{var f,h;return u.jsxs("div",{className:"shadow-md mb-4 bg-white rounded-lg",children:[u.jsxs("button",{onClick:()=>l(d.id),className:"flex items-center w-full p-2  text-left border-slate-400 bg-blue-50 rounded-lg",children:[u.jsx(wi,{className:`w-5 h-5 mr-2 transition-transform ${e[d.id]?"transform rotate-0":"transform -rotate-90"}`}),u.jsx("span",{className:"text-base font-semibold text-slate-600",children:d.name})]}),e[d.id]&&((f=a[d.id])==null?void 0:f.map(({assignment:p,submission:g})=>u.jsxs("div",{className:"flex items-start border-t border-slate-400  px-6",children:[u.jsx("div",{className:"flex-1 p-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mc,{className:"text-pink-500",fontSize:"medium"}),u.jsx("a",{className:"text-blue-500 text-sm font-bold cursor-pointer",target:"_blank",rel:"noopener noreferrer",children:p.title})]})}),u.jsx("div",{className:"w-40 p-2 text-center text-sm text-slate-600 font-semibold",children:g?g.textSubmission===""&&g.fileSubmissionUrl===""?"Chưa nộp bài":g.score!==null?g.score:"Chưa chấm điểm":"-"})]},p.id))),e[d.id]&&((h=s[d.id])==null?void 0:h.map(({quiz:p,submission:g})=>u.jsxs("div",{className:"flex items-start border-t border-slate-400  px-6",children:[u.jsx("div",{className:"flex-1 p-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gc,{className:"text-primary",fontSize:"medium"}),u.jsx("a",{className:"text-blue-500 text-sm font-bold cursor-pointer",target:"_blank",rel:"noopener noreferrer",children:p.title})]})}),u.jsx("div",{className:"w-40 p-2 text-sm text-slate-600 font-semibold pl-12",children:g&&Array.isArray(g)&&g.length>0?u.jsx("div",{className:"flex flex-col gap-1",children:g.map((m,y)=>u.jsxs("div",{children:[u.jsxs("span",{className:"font-medium",children:["Lần ",y+1,":"]})," ",typeof m.score=="number"?(m.score/10).toFixed(1):"Chưa có điểm"]},m.id||y))}):g&&typeof g.score=="number"?g.score:g&&g.length===0?"Chưa làm":"-"})]},p.id)))]},d.id)})]})})}function Cb({open:e,onClose:t,onSubmit:n,courseName:r,setCourseName:o,code:a,setCode:i,description:s,setDescription:c,startDate:l,handleDateSelect:d,selectedImage:f,handleImageChange:h,course:p,isSubmitting:g,outcomes:m,setOutcomes:y}){const v=(x,j,P)=>{const b=[...m];b[x][j]=P,y(b)},S=x=>{if(m.length>1){const j=m.filter((P,b)=>b!==x);y(j)}};return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(128, 128, 128, 0.8)",zIndex:1299}}),u.jsxs(ro,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{borderRadius:4}},children:[u.jsxs(oo,{className:"text-2xl font-bold text-center text-slate-800",sx:{background:"linear-gradient(135deg, #5BCEC9 0%, #14919B 100%)",color:"white",p:1.5,textAlign:"center",borderRadius:"16px 16px 0 0"},children:["Chỉnh sửa thông tin khóa học",u.jsx(Dn,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:x=>x.palette.grey[500]},size:"large",children:u.jsx(Mi,{})})]}),u.jsxs("form",{onSubmit:n,children:[u.jsx(ao,{dividers:!0,sx:{maxHeight:"70vh",overflowY:"auto"},children:u.jsxs("div",{className:"space-y-6",children:[u.jsx(xt,{fullWidth:!0,label:"Mã khóa học",id:"code",name:"code",value:a,onChange:x=>i(x.target.value),disabled:!0,helperText:"Mã khóa học không thể thay đổi",sx:{"& .MuiInputBase-input.Mui-disabled":{backgroundColor:"#f5f5f5",color:"#666"}}}),u.jsx(xt,{fullWidth:!0,label:"Tên khóa học",id:"courseName",name:"courseName",required:!0,value:r,onChange:x=>o(x.target.value)}),u.jsx(xt,{fullWidth:!0,label:"Mô tả",id:"description",name:"description",multiline:!0,rows:3,value:s,onChange:x=>c(x.target.value)}),u.jsx(Xl,{dateAdapter:Yl,children:u.jsx(ql,{label:"Ngày bắt đầu",value:l,onChange:d,renderInput:x=>u.jsx(xt,{fullWidth:!0,required:!0,...x})})}),u.jsxs(Fe,{children:[u.jsx(ve,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:"Chuẩn đầu ra (Learning Outcomes)"}),m==null?void 0:m.map((x,j)=>u.jsx(Pt,{sx:{mb:2,border:"1px solid #e0e0e0"},children:u.jsx(jt,{children:u.jsxs(Fe,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[u.jsx(Fe,{sx:{flex:1},children:u.jsxs(We,{container:!0,spacing:2,children:[u.jsx(We,{item:!0,xs:12,md:3,children:u.jsx(xt,{fullWidth:!0,label:`Mã chuẩn đầu ra ${j+1}`,value:x.code,onChange:P=>v(j,"code",P.target.value),placeholder:"Ví dụ: CLO1, PLO2",size:"small"})}),u.jsx(We,{item:!0,xs:12,md:9,children:u.jsx(xt,{fullWidth:!0,label:"Mô tả chuẩn đầu ra",value:x.description,onChange:P=>v(j,"description",P.target.value),placeholder:"Mô tả chi tiết về chuẩn đầu ra này",multiline:!0,rows:2,size:"small"})})]})}),m.length>1&&u.jsx(Dn,{onClick:()=>S(j),color:"error",size:"small",type:"button",children:u.jsx(Gl,{})})]})})},j))]}),u.jsxs("div",{children:[u.jsx(Si,{htmlFor:"thumbnail",children:"Ảnh nền"}),u.jsx("input",{id:"thumbnail",name:"thumbnail",type:"file",accept:"image/*",style:{marginTop:8},onChange:h}),f&&u.jsx("div",{className:"w-max img-wrapper block mx-auto mt-4",children:u.jsx("img",{src:f,alt:"Selected",className:"max-w-xs h-auto rounded-lg"})}),!f&&(p==null?void 0:p.thumbnail)&&u.jsx("div",{className:"w-max img-wrapper block mx-auto mt-4",children:u.jsx("img",{src:p==null?void 0:p.thumbnail,alt:"Selected",className:"max-w-xs h-auto rounded-lg"})})]})]})}),u.jsxs(Kl,{children:[u.jsx(qt,{onClick:t,color:"inherit",variant:"contained",children:"Hủy"}),u.jsx(qt,{type:"submit",variant:"contained",disabled:g,startIcon:g?u.jsx(fn,{size:20,color:"inherit"}):null,sx:{background:"linear-gradient(135deg, #5BCEC9 0%, #14919B 100%)","&:hover":{background:"linear-gradient(135deg, #5BCEC9 0%, #14919B 100%)",opacity:.9},"&:disabled":{background:"#ccc"}},children:g?"Đang lưu...":"Chỉnh sửa"})]})]})]})]})}function Pb({open:e,onClose:t,course:n}){return n?u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(128, 128, 128, 0.8)",zIndex:1299}}),u.jsxs(ro,{open:e,onClose:t,fullWidth:!0,maxWidth:"md",sx:{"& .MuiDialog-paper":{borderRadius:"16px"}},children:[u.jsxs(oo,{className:"text-2xl font-bold text-center text-slate-800",sx:{background:"linear-gradient(135deg, #5BCEC9 0%, #14919B 100%)",color:"white",p:1.5,textAlign:"center",borderRadius:"16px 16px 0 0"},children:["        Thông tin khóa học",u.jsx(Dn,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.grey[500]},size:"large",children:u.jsx(Mi,{})})]}),u.jsx(ao,{children:u.jsxs(We,{container:!0,spacing:3,children:[u.jsx(We,{item:!0,xs:12,md:6,children:u.jsx(Pt,{variant:"outlined",children:u.jsxs(jt,{children:[u.jsx(ve,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:"Mã khóa học"}),u.jsx(ve,{variant:"h6",fontWeight:"",children:n.code||"Chưa có"})]})})}),u.jsx(We,{item:!0,xs:12,md:6,children:u.jsx(Pt,{variant:"outlined",children:u.jsxs(jt,{children:[u.jsx(ve,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:"Tên khóa học"}),u.jsx(ve,{variant:"",fontWeight:"",children:n.name||"Chưa có"})]})})}),u.jsx(We,{item:!0,xs:12,md:6,children:u.jsx(Pt,{variant:"outlined",children:u.jsxs(jt,{children:[u.jsx(ve,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:"Ngày bắt đầu"}),u.jsx(ve,{variant:"body1",children:n.startDate?Ql(new Date(n.startDate),"dd/MM/yyyy",{locale:Jl}):"Chưa có"})]})})}),u.jsx(We,{item:!0,xs:12,children:u.jsx(Pt,{variant:"outlined",children:u.jsxs(jt,{children:[u.jsx(ve,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:"Mô tả"}),u.jsx(ve,{variant:"body1",children:n.description||"Chưa có mô tả"})]})})}),u.jsx(We,{item:!0,xs:12,children:u.jsx(Pt,{variant:"outlined",children:u.jsxs(jt,{children:[u.jsx(ve,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,sx:{mb:2},children:"Chuẩn đầu ra"}),n.outcomes&&n.outcomes.length>0?u.jsx(Fe,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n.outcomes.map((r,o)=>u.jsx(Zl,{label:`${r.code}: ${r.description}`,color:"primary",variant:"outlined",sx:{mb:1}},r.id||o))}):u.jsx(ve,{variant:"body2",color:"textSecondary",children:"Chưa có chuẩn đầu ra nào"})]})})})]})})]})]}):null}const jb=({user:e,content:t,createAt:n,topicId:r})=>{const o=JSON.parse(localStorage.getItem("user")||"{}"),{createTopicComment:a,getTopicComment:i}=yc(),{t:s}=so(),[c,l]=w.useState(!1),[d,f]=w.useState(""),[h,p]=w.useState([]),[g,m]=w.useState(!1),y=async()=>{const x=await i(r);console.log("🚀 ~ fetchComment ~ data:",x),p(x.data||[])};w.useEffect(()=>{y()},[]);const v=async()=>{d.trim()&&!c&&(l(!0),await a({content:d,topicId:r}),f(""),await y(),l(!1))},S=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return u.jsxs("div",{className:"w-full p-4 bg-white rounded-lg shadow-lg border border-slate-200",children:[u.jsxs("div",{className:" flex items-center gap-2",children:[u.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:u.jsx("img",{src:e.avatarUrl||Ho,alt:"",className:"w-full h-full object-cover"})}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold text-sm text-slate-700 truncate",children:e.username}),u.jsx("span",{className:"text-sm text-slate-500",children:xi(n)})]})})]}),u.jsx("div",{className:"flex my-2 mx-4",children:u.jsx("p",{className:"text-slate-700 text-sm ",children:u.jsx("p",{dangerouslySetInnerHTML:{__html:t}})})}),u.jsxs("div",{className:"px-4 border-t border-slate-300 mx-2",children:[u.jsx("div",{className:"flex items-center gap-2 text-slate-600 cursor-pointer mt-2",onClick:()=>m(!g),children:u.jsx("span",{className:"text-sm text-slate-500 hover:underline hover:text-slate-600 transition",children:s("topic.comments_count",{count:h.length})})}),g&&u.jsx("div",{className:"px-4 my-2 space-y-2",children:h.length===0?u.jsx("p",{className:"text-slate-400 text-sm",children:s("topic.no_comments")}):h.map(x=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:u.jsx("img",{src:x.account.avatarUrl||Ho,alt:"",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 bg-slate-50 p-2 rounded-md",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{className:"font-semibold text-sm text-slate-700",children:x.account.email}),u.jsx("div",{className:"text-sm text-slate-500",children:xi(x.createdAt)})]}),u.jsx("p",{className:"text-slate-700 text-sm",children:x.content})]})]},x.id))})]}),u.jsxs("div",{className:"px-4 flex items-center gap-3 mt-2",children:[u.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:u.jsx("img",{src:o.avatar,alt:"",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",value:d,onChange:x=>f(x.target.value),onKeyDown:S,placeholder:s("topic.comment_input_placeholder"),className:"w-full py-2 px-3 border-b border-slate-300 focus:outline-none text-slate-600 "}),u.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 contrast-50 hover:contrast-200 transition",onClick:v,disabled:c,children:c?u.jsx(ec,{className:"w-5 h-5 animate-spin text-primaryDark"}):u.jsx(xc,{className:"w-5 h-5"})})]})]})]})},xi=e=>{const t=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],Math.floor(e[6]/1e6)),n=r=>String(r).padStart(2,"0");return`${n(t.getHours())}:${n(t.getMinutes())}
     ${n(t.getDate())}/${n(t.getMonth()+1)}/${t.getFullYear()}`},Mb={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:600,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},Ab=({forumId:e})=>{const[t,n]=w.useState(!1),[r,o]=w.useState(""),[a,i]=w.useState([]),[s,c]=w.useState(!1),[l,d]=w.useState(!1),{createForum:f,loading:h}=bc(),{t:p}=so(),{createTopic:g,getTopics:m}=vc(),y=async()=>{if(e){c(!0);try{const S=await m(e);f(e),i(S.data||[])}catch(S){console.error("Lỗi khi lấy danh sách topics:",S)}finally{c(!1)}}};w.useEffect(()=>{y()},[e]);const v=async()=>{if(!(!r.trim()||!e)){d(!0);try{await g({content:r,forumId:e}),await y(),n(!1),o("")}catch(S){console.error("Lỗi khi tạo topic:",S)}finally{d(!1)}}};return u.jsxs("div",{className:"flex flex-col gap-4 p-4 h-full focus:outline-none",tabIndex:-1,children:[e?u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:p("discussion")}),u.jsx(Pc,{className:"w-fit ",onClick:()=>n(!0),children:p("forum.create_topic")})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center text-lg text-center text-slate-600 font-semibold pt-6 h-full bg-white rounded-lg shadow-md",children:[u.jsx(wc,{className:"text-primaryDark w-12 h-12 mb-2 animate-bounce"}),p("forum.please_select_forum")]}),s?u.jsx("div",{className:"flex flex-col gap-4 h-full bg-white rounded-lg shadow-md p-6",children:Array.from({length:3}).map((S,x)=>u.jsx(Sc,{},x))}):a.length>0&&e?u.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:a.map(S=>u.jsx(jb,{topicId:S.id,user:S.account,content:S.content,createAt:S.createdAt},S.id))}):e&&u.jsx("div",{className:"text-center mt-6 text-slate-600 font-semibold",children:p("forum.no_topics")}),u.jsx(tc,{open:t,onClose:()=>n(!1),"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:u.jsxs(Fe,{sx:Mb,children:[u.jsx(ve,{id:"modal-title",variant:"h6",component:"h2",sx:{mb:2},children:p("forum.new_topic_title")}),u.jsx(Cc,{theme:"snow",value:r,onChange:o,style:{height:200,marginBottom:52},placeholder:p("forum.new_topic_placeholder")}),u.jsxs(Fe,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[u.jsx(qt,{variant:"outlined",color:"secondary",onClick:()=>n(!1),sx:{borderRadius:2},disabled:l,children:p("forum.cancel")}),u.jsx(qt,{variant:"contained",color:"primary",onClick:v,sx:{borderRadius:2},disabled:l,children:l?u.jsx(fn,{size:20,color:"inherit"}):p("forum.submit")})]})]})})]})};function Tb(){const[e,t]=w.useState(0),[n,r]=w.useState(null),[o,a]=w.useState(!1),[i,s]=w.useState(null),[c,l]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(!1),[y,v]=w.useState([]),S=w.useRef(null),{authUser:x}=Zn(),[j,P]=w.useState(!1),[b,_]=w.useState(new Date),[T,N]=w.useState(""),[O,M]=w.useState(""),[E,A]=w.useState(""),[I,D]=w.useState(""),[R,H]=w.useState([]),W=vi(),{courseId:F}=Qn(),{t:V}=so(),le=[V("tabs.courses"),V("tabs.members"),V("tabs.scores"),V("tabs.discussion")],q="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",[pe,ue]=w.useState(""),Q=L=>{D(L.target.value),m(L.target.value==="new")},we=L=>_(L),ye=async()=>{try{const L=await ae.get(`courses/${F}`);L.status===200&&(r(L.data.data),N(L.data.data.name),A(L.data.data.description),D(L.data.data.categoryId),_(new Date(L.data.data.startDate)),M(L.data.data.code),H(L.data.data.outcomes))}catch(L){console.error(L)}finally{}},Se=async()=>{try{const L=await ae.get(`courses/${F}/teacher`);L.status===200&&s(L.data.data)}catch(L){console.error(L)}};w.useEffect(()=>{Se(),ye()},[F]);const $=async()=>{a(!0);try{const L=await ae.delete(`courses/${F}`);L.status===200&&(p(!1),W("/my-course"),Te.success(L.data.message))}catch{p(!1),Te.warning("Đã có học sinh làm bài quiz, vì vậy không được xoá môn học")}finally{a(!1)}},[z,U]=w.useState(null),k=L=>{const G=L.target.files[0];if(G){const Z=new FileReader;Z.onloadend=()=>{U(Z.result)},Z.readAsDataURL(G)}},K=()=>{switch(e){case 0:return u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:V("course_content")}),u.jsx(zd,{})]});case 1:return u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:V("student_list")}),u.jsx(ap,{})]});case 2:return u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:V("grades")}),x.role==="TEACHER"&&u.jsx(Il,{courseId:F}),x.role==="STUDENT"&&u.jsx(Sb,{courseId:F})]});case 3:return u.jsx("div",{className:"",children:u.jsx(Ab,{forumId:F})});default:return null}},B=async L=>{L.preventDefault(),P(!0);const G=new FormData,Z=L.target.elements,Oe=new URLSearchParams;Oe.append("name",T),Oe.append("description",E),Oe.append("startDate",b);const Cn=Oe.toString(),Do=Z.thumbnail.files[0];Do&&G.append("thumbnail",Do);try{const Ut=await ae.patch(`/courses/${F}?${Cn}`,G,{headers:{"Content-Type":"multipart/form-data"}});Ut.status===200?(await re(),Te.success("Cập nhật khóa học và chuẩn đầu ra thành công!"),l(!1),await ye()):Te.error(Ut.data.message,{type:"error"})}catch(Ut){console.error("Error submitting form:",Ut),Te(Ut.response.data.message,{type:"error"}),ca}finally{P(!1),l(!1)}},re=async()=>{try{const G=R.filter(Z=>Z.code&&Z.description).map(async Z=>{if(Z.id){const Oe=new URLSearchParams;return Oe.append("code",Z.code),Oe.append("description",Z.description),ae.patch(`/courses/outcomes/${Z.id}?${Oe.toString()}`)}else return ae.post(`/courses/${F}/outcomes`,{code:Z.code,description:Z.description})});await Promise.all(G),console.log("All outcomes updated successfully")}catch(L){throw console.error("Error updating outcomes:",L),L}};return u.jsxs("div",{className:"bg-slate-100 min-h-[calc(100vh-170px)] flex flex-col",children:[o&&u.jsx(nc,{isLoading:o}),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative h-48 bg-slate-200 overflow-hidden",children:[u.jsx("img",{src:n==null?void 0:n.thumbnail,alt:"Online learning illustration",className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[u.jsx("div",{className:"bg-primaryDark text-white px-4 py-2 rounded-lg text-sm font-semibold mb-2 ",children:u.jsx("nav",{"aria-label":"breadcrumb",children:u.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[u.jsx("li",{children:u.jsx(Rr,{to:"/",className:"text-white hover:underline tru",children:V("home_page")})}),u.jsx("li",{children:u.jsx("span",{className:"mx-2 text-slate-300",children:"/"})}),u.jsx("li",{children:u.jsx(Rr,{to:"/my-course",className:"text-white hover:underline",children:V("my_courses")})}),u.jsx("li",{children:u.jsx("span",{className:"mx-2 text-slate-300",children:"/"})}),u.jsx("li",{className:"text-slate-200",children:(n==null?void 0:n.name)||"Đang tải..."})]})})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[(x==null?void 0:x.role)==="TEACHER"&&u.jsx("button",{onClick:()=>l(!0),className:"bg-primaryDark text-white bg-red-500 hover:bg-red-700 p-2 rounded-full",children:u.jsx(Mc,{className:"h-4 w-4"})}),(x==null?void 0:x.role)==="TEACHER"&&u.jsx("button",{onClick:()=>p(!0),className:"bg-primaryDark text-white bg-red-500 hover:bg-red-700 p-2 rounded-full",children:u.jsx(Ac,{className:"h-4 w-4"})}),(x==null?void 0:x.role)==="STUDENT"&&u.jsx("button",{onClick:()=>f(!0),className:"bg-primaryDark text-white bg-red-500 hover:bg-red-700 p-2 rounded-full",children:u.jsx(jc,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 text-white bg-primaryDark px-4 py-2 rounded-lg text-sm font-semibold",children:[V("teacher"),": ",i!=null&&i.fullName?i.fullName:"Đang tải..."]})]}),u.jsx("nav",{className:"bg-white border-b px-4",children:u.jsx("ul",{className:"flex",children:le.map((L,G)=>u.jsx("li",{children:u.jsx("button",{onClick:()=>t(G),className:`block px-4 py-2 text-sm font-semibold ${e===G?"text-blue-600 border-b-2 border-blue-600":"text-slate-600"}`,children:L})},G))})}),u.jsx("div",{className:"my-4 px-4 mx-4 bg-white rounded-lg shadow-lg overflow-hidden flex-1",children:K()}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-30",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[u.jsxs("p",{className:"mb-4",children:["Xác nhận xóa khóa học? ",u.jsx("br",{}),"(Hành động này không thể quay lại)"]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{className:"py-2 px-2 w-full bg-primaryDark text-white rounded-lg  hover:bg-secondary transition-colors",onClick:()=>p(!1),children:"Không"}),u.jsx("button",{className:`py-2 px-2 w-full  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors`,onClick:$,children:"Có"})]})]})}),c&&u.jsx(Cb,{open:c,onClose:()=>l(!1),onSubmit:B,inputClassName:q,categories:y,category:I,handleCategoryChange:Q,showNewCategory:g,newCategory:pe,setNewCategory:ue,courseName:T,setCourseName:N,code:O,setCode:M,description:E,setDescription:A,startDate:b,handleDateSelect:we,datePickerRef:S,selectedImage:z,handleImageChange:k,course:n,isSubmitting:j,outcomes:R,setOutcomes:H}),d&&u.jsx(Pb,{open:d,onClose:()=>f(!1),course:n})]})]})}const _b=()=>u.jsx(Tb,{}),Fb=Object.freeze(Object.defineProperty({__proto__:null,default:_b},Symbol.toStringTag,{value:"Module"}));export{Fb as D,Tu as p,er as u};
